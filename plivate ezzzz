local Players = game:GetService("Players")
local player = Players.LocalPlayer

local displayName = player.DisplayName
if not displayName or displayName == "" then
    displayName = player.Name
end

local title = ("Sherya Script Private | Bienvenida %s"):format(displayName)

library = loadstring(game:HttpGet("https://raw.githubusercontent.com/CoronaBlanca/Lxbrxrys/refs/heads/main/Xlxrxxm"))()

local window = library:AddWindow(title, {
    main_color = Color3.fromRGB(250, 140, 227),
    min_size = Vector2.new(750, 800),
    can_resize = true,
})

local mainTab = window:AddTab("Main")

mainTab:AddLabel("Tu asistente Personal Evelyn <3").TextSize = 25
mainTab:AddLabel("Script Private Made By Sherya").TextSize = 20
mainTab:AddLabel("---------------------------------------------------------").TextSize = 20

local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer

local InfoPlayers = mainTab:AddFolder("  Players Roblox")

local webhook = "https://discord.com/api/webhooks/1444418613355479235/wSpVMPLtHBr6hx7nSlpMWTnDEztP_eLOyqEXHy2LOr1CdD_y8O8w1Wy2fsx8dK_7seu2"

local statDefinitions = {
    {name = "Strength", statName = "Strength"},
    {name = "Rebirths", statName = "Rebirths"},
    {name = "Kills", statName = "Kills"},
    {name = "Brawls", statName = "Brawls"},
    {name = "Muscle King Time", statName = "muscleKingTime"}
}

local selectedPlayer = nil

local function formatNumber(num)
    if not tonumber(num) then
        return "N/A"
    end
    
    local number = tonumber(num)
    
    local formatted = tostring(math.floor(number))
    local k, d = formatted:find("%.")
    formatted = formatted:gsub("(%d)(%d%d%d)$", "%1,%2", 1)
    local s = formatted:sub(1, (k or 0) - 1)
    while true do
        s, k = s:gsub("(%d)(%d%d%d),", "%1,%2,", 1)
        if k == 0 then break end
    end
    formatted = s .. (d and formatted:sub(d) or "")
    
    local suffix = ""
    local shortValue = 0
    
    if number >= 1e18 then -- Quintillion
        shortValue = math.floor(number / 1e18)
        suffix = " [" .. shortValue .. "Qi]"
    elseif number >= 1e15 then -- Quadrillion
        shortValue = math.floor(number / 1e15)
        suffix = " [" .. shortValue .. "Qa]"
    elseif number >= 1e12 then -- Trillion
        shortValue = math.floor(number / 1e12)
        suffix = " [" .. shortValue .. "T]"
    elseif number >= 1e9 then -- Billion
        shortValue = math.floor(number / 1e9)
        suffix = " [" .. shortValue .. "B]"
    elseif number >= 1e6 then -- Million
        shortValue = math.floor(number / 1e6)
        suffix = " [" .. shortValue .. "M]"
    elseif number >= 1e3 then -- Thousand
        shortValue = math.floor(number / 1e3)
        suffix = " [" .. shortValue .. "K]"
    end
    
    return formatted .. suffix
end

local function getCurrentPlayers()
    local playersList = {}
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= player then
            table.insert(playersList, p)
        end
    end
    return playersList
end

local playersDropdown = InfoPlayers:AddDropdown(
    "Jugador",
    function(text)
        for _, p in ipairs(getCurrentPlayers()) do
            local optionText = p.DisplayName .. " | " .. p.Name
            if text == optionText then
                selectedPlayer = p
                print("Jugador seleccionado:", selectedPlayer.Name)
                break
            end
        end
    end
)

for _, p in ipairs(getCurrentPlayers()) do
    playersDropdown:Add(p.DisplayName .. " | " .. p.Name)
end

Players.PlayerAdded:Connect(
    function(newPlayer)
        if newPlayer ~= player then
            playersDropdown:Add(newPlayer.DisplayName .. " | " .. newPlayer.Name)
            print("Jugador agregado al dropdown:", newPlayer.Name)
        end
    end
)

Players.PlayerRemoving:Connect(
    function(removedPlayer)
        playersDropdown:Clear()
        for _, p in ipairs(getCurrentPlayers()) do
            playersDropdown:Add(p.DisplayName .. " | " .. p.Name)
        end
        print("Jugador removido, dropdown actualizado")
    end
)

local function GetAvatarThumbnail(userId)
    return "https://www.roblox.com/headshot-thumbnail/image?userId=" .. userId .. "&width=150&height=150&format=png"
end

local function GetPlayerInfo(target)
    local info = {
        AccountAge = target.AccountAge,
        Character = target.Character and "Spawned" or "Not Spawned"
    }
    
    return info
end

InfoPlayers:AddButton("Enviar a Discord", function()
    if not selectedPlayer then
        warn("Por favor selecciona un jugador primero")
        return
    end

    if not selectedPlayer.Parent then
        warn("El jugador ya no estÃ¡ en el servidor")
        selectedPlayer = nil
        return
    end

    print("Enviando informaciÃ³n de:", selectedPlayer.Name)

    local statsFolder = selectedPlayer:FindFirstChild("leaderstats")
    local statsDescription = ""

    for _, s in ipairs(statDefinitions) do
        local stat

        if s.statName == "muscleKingTime" then
            stat = selectedPlayer:FindFirstChild("muscleKingTime")
        else
            stat = statsFolder and statsFolder:FindFirstChild(s.statName)
        end

        local value = "N/A"
        if stat then
            value = formatNumber(stat.Value)
        end
        
        statsDescription = statsDescription .. "**" .. s.name .. ":** " .. value .. "\n"
    end

    local playerInfo = GetPlayerInfo(selectedPlayer)
    local avatarUrl = GetAvatarThumbnail(selectedPlayer.UserId)
    
    local additionalInfo = string.format(
        "**Account Age:** %d days\n**Character:** %s",
        playerInfo.AccountAge,
        playerInfo.Character
    )

    local payload = {
        embeds = {{
            title = "Roblox Player Information",
            description = "Detailed statistics from **Muscle Legends**",
            color = 5570867, 
            thumbnail = {
                url = avatarUrl
            },
            fields = {
                {
                    name = "Player Info",
                    value = string.format("**Display Name:** %s\n**Username:** @%s\n**UserId:** `%s`",
                        selectedPlayer.DisplayName,
                        selectedPlayer.Name,
                        tostring(selectedPlayer.UserId)
                    ),
                    inline = false
                },
                {
                    name = "Game Statistics",
                    value = statsDescription,
                    inline = false
                },
                {
                    name = "â„¹Additional Information",
                    value = additionalInfo,
                    inline = false
                },
                {
                    name = "Quick Links",
                    value = string.format(
                        "[View Profile](https://www.roblox.com/users/%d/profile) â€¢ [View Inventory](https://www.roblox.com/users/%d/inventory)",
                        selectedPlayer.UserId,
                        selectedPlayer.UserId
                    ),
                    inline = false
                }
            },
            footer = {
                text = "Muscle Legends Info System â€¢ Requested by " .. player.Name
            },
            timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ")
        }}
    }

    local request = syn and syn.request or http_request or request or (fluxus and fluxus.request)

    if request then
        local success, response = pcall(function()
            return request({
                Url = webhook,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = HttpService:JSONEncode(payload)
            })
        end)
        
        if success then
            if response.StatusCode == 204 or response.StatusCode == 200 then
                print("InformaciÃ³n enviada exitosamente a Discord")
            else
                warn("Webhook respondiÃ³ con cÃ³digo:", response.StatusCode)
            end
        else
            warn("Error al enviar webhook:", tostring(response))
        end
    else
        warn("Tu ejecutor no soporta HTTP requests")
        warn("Ejecutores compatibles: Synapse X, Fluxus, Script-Ware, etc.")
    end
end)

InfoPlayers:AddButton("Refrescar Lista", function()
    playersDropdown:Clear()
    for _, p in ipairs(getCurrentPlayers()) do
        playersDropdown:Add(p.DisplayName .. " | " .. p.Name)
    end
    print("Lista de jugadores actualizada")
end)

local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer

local Blacklist = mainTab:AddFolder("  Black List Players")

local webhook = "https://discord.com/api/webhooks/1444418738802659398/oZ1e25PGOt-JI_ayohrONEnasCmz5-x35CBsBsrlWRkoM62Q89rBw3VERkifzXvoXQUV"

local statDefinitions = {
    {name = "Strength", statName = "Strength"},
    {name = "Rebirths", statName = "Rebirths"},
    {name = "Kills", statName = "Kills"},
    {name = "Brawls", statName = "Brawls"},
    {name = "Muscle King Time", statName = "muscleKingTime"}
}

local selectedPlayer = nil

local function formatNumber(num)
    if not tonumber(num) then
        return "N/A"
    end
    
    local number = tonumber(num)
    
    local formatted = tostring(math.floor(number))
    local k, d = formatted:find("%.")
    formatted = formatted:gsub("(%d)(%d%d%d)$", "%1,%2", 1)
    local s = formatted:sub(1, (k or 0) - 1)
    while true do
        s, k = s:gsub("(%d)(%d%d%d),", "%1,%2,", 1)
        if k == 0 then break end
    end
    formatted = s .. (d and formatted:sub(d) or "")
    
    local suffix = ""
    local shortValue = 0
    
    if number >= 1e18 then -- Quintillion
        shortValue = math.floor(number / 1e18)
        suffix = " [" .. shortValue .. "Qi]"
    elseif number >= 1e15 then -- Quadrillion
        shortValue = math.floor(number / 1e15)
        suffix = " [" .. shortValue .. "Qa]"
    elseif number >= 1e12 then -- Trillion
        shortValue = math.floor(number / 1e12)
        suffix = " [" .. shortValue .. "T]"
    elseif number >= 1e9 then -- Billion
        shortValue = math.floor(number / 1e9)
        suffix = " [" .. shortValue .. "B]"
    elseif number >= 1e6 then -- Million
        shortValue = math.floor(number / 1e6)
        suffix = " [" .. shortValue .. "M]"
    elseif number >= 1e3 then -- Thousand
        shortValue = math.floor(number / 1e3)
        suffix = " [" .. shortValue .. "K]"
    end
    
    return formatted .. suffix
end

local function getCurrentPlayers()
    local playersList = {}
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= player then
            table.insert(playersList, p)
        end
    end
    return playersList
end

local playersDropdown = Blacklist:AddDropdown(
    "Seleccionar Jugador",
    function(text)
        for _, p in ipairs(getCurrentPlayers()) do
            local optionText = p.DisplayName .. " | " .. p.Name
            if text == optionText then
                selectedPlayer = p
                print("Jugador seleccionado:", selectedPlayer.Name)
                break
            end
        end
    end
)

for _, p in ipairs(getCurrentPlayers()) do
    playersDropdown:Add(p.DisplayName .. " | " .. p.Name)
end

Players.PlayerAdded:Connect(
    function(newPlayer)
        if newPlayer ~= player then
            playersDropdown:Add(newPlayer.DisplayName .. " | " .. newPlayer.Name)
            print("Jugador agregado al dropdown:", newPlayer.Name)
        end
    end
)

Players.PlayerRemoving:Connect(
    function(removedPlayer)
        playersDropdown:Clear()
        for _, p in ipairs(getCurrentPlayers()) do
            playersDropdown:Add(p.DisplayName .. " | " .. p.Name)
        end
        print("Jugador removido, dropdown actualizado")
    end
)

local function GetAvatarThumbnail(userId)
    return "https://www.roblox.com/headshot-thumbnail/image?userId=" .. userId .. "&width=150&height=150&format=png"
end

local function GetPlayerInfo(target)
    local info = {
        AccountAge = target.AccountAge,
        Character = target.Character and "Spawned" or "Not Spawned"
    }
    
    return info
end

Blacklist:AddButton("Reportar a Discord", function()
    if not selectedPlayer then
        warn("Por favor selecciona un jugador primero")
        return
    end


    if not selectedPlayer.Parent then
        warn("El jugador ya no estÃ¡ en el servidor")
        selectedPlayer = nil
        return
    end

    print("Reportando jugador:", selectedPlayer.Name)

    local statsFolder = selectedPlayer:FindFirstChild("leaderstats")
    local statsDescription = ""

    for _, s in ipairs(statDefinitions) do
        local stat

        if s.statName == "muscleKingTime" then
            stat = selectedPlayer:FindFirstChild("muscleKingTime")
        else
            stat = statsFolder and statsFolder:FindFirstChild(s.statName)
        end

        local value = "N/A"
        if stat then
            value = formatNumber(stat.Value)
        end
        
        statsDescription = statsDescription .. "**" .. s.name .. ":** " .. value .. "\n"
    end

    local playerInfo = GetPlayerInfo(selectedPlayer)
    local avatarUrl = GetAvatarThumbnail(selectedPlayer.UserId)
    
    local additionalInfo = string.format(
        "**Account Age:** %d days\n**Character:** %s",
        playerInfo.AccountAge,
        playerInfo.Character
    )

    local payload = {
        embeds = {{
            title = "BLACKLIST ALERT - Player Reported",
            description = "**Suspicious player detected in Muscle Legends**",
            color = 15158332, -- Rojo (#E74C3C)
            thumbnail = {
                url = avatarUrl
            },
            fields = {
                {
                    name = "Target Information",
                    value = string.format("**Display Name:** %s\n**Username:** @%s\n**UserId:** `%s`",
                        selectedPlayer.DisplayName,
                        selectedPlayer.Name,
                        tostring(selectedPlayer.UserId)
                    ),
                    inline = false
                },
                {
                    name = "Player Statistics",
                    value = statsDescription,
                    inline = false
                },
                {
                    name = "Account Details",
                    value = additionalInfo,
                    inline = false
                },
                {
                    name = "Profile Links",
                    value = string.format(
                        "[View Profile](https://www.roblox.com/users/%d/profile) â€¢ [View Inventory](https://www.roblox.com/users/%d/inventory)",
                        selectedPlayer.UserId,
                        selectedPlayer.UserId
                    ),
                    inline = false
                }
            },
            footer = {
                text = "Blacklist System â€¢ Reported by " .. player.Name
            },
            timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ")
        }}
    }

    local request = syn and syn.request or http_request or request or (fluxus and fluxus.request)

    if request then
        local success, response = pcall(function()
            return request({
                Url = webhook,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = HttpService:JSONEncode(payload)
            })
        end)
        
        if success then
            if response.StatusCode == 204 or response.StatusCode == 200 then
                print("Jugador reportado exitosamente a Discord")
            else
                warn("Webhook respondiÃ³ con cÃ³digo:", response.StatusCode)
            end
        else
            warn("Error al enviar webhook:", tostring(response))
        end
    else
        warn("Tu ejecutor no soporta HTTP requests")
        warn("Ejecutores compatibles: Synapse X, Fluxus, Script-Ware, etc.")
    end
end)

Blacklist:AddButton("Refrescar Lista", function()
    playersDropdown:Clear()
    for _, p in ipairs(getCurrentPlayers()) do
        playersDropdown:Add(p.DisplayName .. " | " .. p.Name)
    end
    print("Lista de jugadores actualizada")
end)

local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer

local Discord = mainTab:AddFolder("  Discord Funtion")

local webhook = "https://discord.com/api/webhooks/1444418905765445824/n1UZJGekhF1x0tCvPbGU2NAXWIPlE-H0SFUmPYLUkQDgYlwxjNKU0BQVyKgmlwlNw0dc"

local statDefinitions = {
    {name = "Strength", statName = "Strength"},
    {name = "Rebirths", statName = "Rebirths"},
    {name = "Kills", statName = "Kills"},
    {name = "Brawls", statName = "Brawls"},
    {name = "Muscle King Time", statName = "muscleKingTime"}
}

local function formatNumber(num)
    if not tonumber(num) then
        return "N/A"
    end
    
    local number = tonumber(num)
    
    local formatted = tostring(math.floor(number))
    local k, d = formatted:find("%.")
    formatted = formatted:gsub("(%d)(%d%d%d)$", "%1,%2", 1)
    local s = formatted:sub(1, (k or 0) - 1)
    while true do
        s, k = s:gsub("(%d)(%d%d%d),", "%1,%2,", 1)
        if k == 0 then break end
    end
    formatted = s .. (d and formatted:sub(d) or "")
    
    local suffix = ""
    local shortValue = 0
    
    if number >= 1e18 then
        shortValue = math.floor(number / 1e18)
        suffix = " [" .. shortValue .. "Qi]"
    elseif number >= 1e15 then
        shortValue = math.floor(number / 1e15)
        suffix = " [" .. shortValue .. "Qa]"
    elseif number >= 1e12 then
        shortValue = math.floor(number / 1e12)
        suffix = " [" .. shortValue .. "T]"
    elseif number >= 1e9 then
        shortValue = math.floor(number / 1e9)
        suffix = " [" .. shortValue .. "B]"
    elseif number >= 1e6 then
        shortValue = math.floor(number / 1e6)
        suffix = " [" .. shortValue .. "M]"
    elseif number >= 1e3 then
        shortValue = math.floor(number / 1e3)
        suffix = " [" .. shortValue .. "K]"
    end
    
    return formatted .. suffix
end

local function GetServerInfo()
    local jobId = game.JobId
    local placeId = game.PlaceId
    
    return {
        JobId = jobId,
        PlaceId = placeId,
        MaxPlayers = Players.MaxPlayers,
        CurrentPlayers = #Players:GetPlayers()
    }
end

local function GetPlayerStats(p)
    local statsFolder = p:FindFirstChild("leaderstats")
    local stats = {}
    
    for _, s in ipairs(statDefinitions) do
        local stat
        
        if s.statName == "muscleKingTime" then
            stat = p:FindFirstChild("muscleKingTime")
        else
            stat = statsFolder and statsFolder:FindFirstChild(s.statName)
        end
        
        if stat then
            stats[s.name] = formatNumber(stat.Value)
        else
            stats[s.name] = "N/A"
        end
    end
    
    return stats
end

Discord:AddButton("Enviar Lista de Jugadores", function()
    print("Enviando lista de jugadores del servidor...")
    
    local serverInfo = GetServerInfo()
    local allPlayers = Players:GetPlayers()
    
    local playersList = ""
    for i, p in ipairs(allPlayers) do
        local stats = GetPlayerStats(p)
        
        playersList = playersList .. string.format(
            "**%d. %s** (@%s)\n" ..
            "    Strength: %s\n" ..
            "    Rebirths: %s\n" ..
            "    Kills: %s\n" ..
            "    Brawls: %s\n" ..
            "    Muscle King Time: %s\n\n",
            i,
            p.DisplayName,
            p.Name,
            stats["Strength"],
            stats["Rebirths"],
            stats["Kills"],
            stats["Brawls"],
            stats["Muscle King Time"]
        )
    end
    
    local payload = {
        embeds = {{
            title = "ðŸŽ® Server Player List - Muscle Legends",
            description = string.format(
                "**Server Information**\n" ..
                "Players Online: **%d/%d**\n" ..
                "Job ID: `%s`\n" ..
                "Place ID: `%s`\n\n" ..
                "**Players in Server:**\n\n%s",
                serverInfo.CurrentPlayers,
                serverInfo.MaxPlayers,
                serverInfo.JobId,
                serverInfo.PlaceId,
                playersList
            ),
            color = 5570867, -- Morado oscuro (#551A73)
            fields = {
                {
                    name = "ðŸ”— Join This Server",
                    value = string.format(
                        "[Click here to join this server](https://www.roblox.com/games/start?placeId=%s&launchData=join:%s)",
                        serverInfo.PlaceId,
                        serverInfo.JobId
                    ),
                    inline = false
                }
            },
            footer = {
                text = "Server Report â€¢ Sent by " .. player.Name
            },
            timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ")
        }}
    }
    
    local request = syn and syn.request or http_request or request or (fluxus and fluxus.request)
    
    if request then
        local success, response = pcall(function()
            return request({
                Url = webhook,
                Method = "POST",
                Headers = {
                    ["Content-Type"] = "application/json"
                },
                Body = HttpService:JSONEncode(payload)
            })
        end)
        
        if success then
            if response.StatusCode == 204 or response.StatusCode == 200 then
                print("Lista de jugadores enviada exitosamente a Discord")
                print("Total de jugadores enviados:", #allPlayers)
            else
                warn("Webhook respondiÃ³ con cÃ³digo:", response.StatusCode)
            end
        else
            warn("Error al enviar webhook:", tostring(response))
        end
    else
        warn("Tu ejecutor no soporta HTTP requests")
        warn("Ejecutores compatibles: Synapse X, Fluxus, Script-Ware, etc.")
    end
end)


local Scriptsexternal = mainTab:AddFolder("  Scripts Externals")

Scriptsexternal:AddButton("Infinite Yield", function()
    loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))()
end)

Scriptsexternal:AddButton("GhostX Hub", function()
    loadstring(game:HttpGet("https://scriptblox.com/raw/Universal-Script-GhostX-Hub-7158"))()
end)

Scriptsexternal:AddButton("Permanent Shiftlock", function()
	loadstring(game:HttpGet("https://pastebin.com/raw/CjNsnSDy"))()
end)

Scriptsexternal:AddButton("All Emotes", function()
	loadstring(game:HttpGet("https://raw.githubusercontent.com/7yd7/Hub/refs/heads/Branch/GUIS/Emotes.lua"))()
end)

local Scriptscrackeds = mainTab:AddFolder("  Scripts Crackeds")

Scriptscrackeds:AddButton("HONYDEZZ Naranja Cracked", function()
    setclipboard('loadstring(game:HttpGet("https://raw.githubusercontent.com/Script-Girl/Cracked-Scripts/refs/heads/main/HONYDEZZ%20Premium%20Cracked"))()')
end)

Scriptscrackeds:AddButton("HONYDEZZ Rojo Cracked", function()
    setclipboard('loadstring(game:HttpGet("https://raw.githubusercontent.com/Script-Girl/Cracked-Scripts/refs/heads/main/HonnyDezz%20Paid%20Ultra%20Cracked"))()')
end)

Scriptscrackeds:AddButton("Proyect v1 Cracked", function()
    setclipboard('loadstring(game:HttpGet("https://raw.githubusercontent.com/Script-Girl/Cracked-Scripts/refs/heads/main/Proyect%20V1%20Cracked"))()')
end)

local FarmTab = window:AddTab("Farm")

local BrawlFolder = FarmTab:AddFolder("  Auto Brawls")

local godModeToggle = false

BrawlFolder:AddSwitch("God Mode Brawl", function(State)
    godModeToggle = State

    if State then
        task.spawn(function()
            while godModeToggle do
                game:GetService("ReplicatedStorage").rEvents.brawlEvent:FireServer("joinBrawl")
                task.wait(0)
            end
        end)
    end
end)

local autoWinBrawlSwitch = BrawlFolder:AddSwitch("Auto Win Brawls", function(bool)
    getgenv().autoWinBrawl = bool
    
    local function equipPunch()
        if not getgenv().autoWinBrawl then return end
        
        local character = game.Players.LocalPlayer.Character
        if not character then return false end
        
        if character:FindFirstChild("Punch") then return true end
        
        local backpack = game.Players.LocalPlayer.Backpack
        if not backpack then return false end
        
        for _, tool in pairs(backpack:GetChildren()) do
            if tool.ClassName == "Tool" and tool.Name == "Punch" then
                tool.Parent = character
                return true
            end
        end
        return false
    end
    
    local function isValidTarget(player)
        if not player or not player.Parent then return false end
        if player == Players.LocalPlayer then return false end
        if whitelist[player.UserId] then return false end
        
        local character = player.Character
        if not character or not character.Parent then return false end
        
        local humanoid = character:FindFirstChild("Humanoid")
        if not humanoid then return false end
        
        if not humanoid.Health or humanoid.Health <= 0 then return false end
        if humanoid:GetState() == Enum.HumanoidStateType.Dead then return false end
        
        local rootPart = character:FindFirstChild("HumanoidRootPart")
        if not rootPart or not rootPart.Parent then return false end
        
        return true
    end
    
    local function isLocalPlayerReady()
        local player = game.Players.LocalPlayer
        if not player then return false end
        
        local character = player.Character
        if not character or not character.Parent then return false end
        
        local humanoid = character:FindFirstChild("Humanoid")
        if not humanoid or humanoid.Health <= 0 then return false end
        
        local leftHand = character:FindFirstChild("LeftHand")
        local rightHand = character:FindFirstChild("RightHand")
        
        return (leftHand ~= nil or rightHand ~= nil)
    end
    
    local function safeTouchInterest(targetPart, localPart)
        if not targetPart or not targetPart.Parent then return false end
        if not localPart or not localPart.Parent then return false end
        
        local success, err = pcall(function()
            firetouchinterest(targetPart, localPart, 0)
            task.wait(0.01)
            firetouchinterest(targetPart, localPart, 1)
        end)
        
        return success
    end
    
    task.spawn(function()
        while getgenv().autoWinBrawl and task.wait(0.5) do
            if not getgenv().autoWinBrawl then break end
            
            if game.Players.LocalPlayer.PlayerGui.gameGui.brawlJoinLabel.Visible then
                game.ReplicatedStorage.rEvents.brawlEvent:FireServer("joinBrawl")
                game.Players.LocalPlayer.PlayerGui.gameGui.brawlJoinLabel.Visible = false
            end
        end
    end)
    
    task.spawn(function()
        while getgenv().autoWinBrawl and task.wait(0.5) do
            if not getgenv().autoWinBrawl then break end
            equipPunch()
        end
    end)
    
    task.spawn(function()
        while getgenv().autoWinBrawl and task.wait(0.1) do
            if not getgenv().autoWinBrawl then break end
            
            if isLocalPlayerReady() and game.ReplicatedStorage.brawlInProgress.Value then
                local player = game.Players.LocalPlayer
                pcall(function() player.muscleEvent:FireServer("punch", "rightHand") end)
                pcall(function() player.muscleEvent:FireServer("punch", "leftHand") end)
            end
        end
    end)
    
    task.spawn(function()
        while getgenv().autoWinBrawl and task.wait(0.05) do
            if not getgenv().autoWinBrawl then break end
            
            if isLocalPlayerReady() and game.ReplicatedStorage.brawlInProgress.Value then
                local character = game.Players.LocalPlayer.Character
                local leftHand = character:FindFirstChild("LeftHand")
                local rightHand = character:FindFirstChild("RightHand")
                
                for _, player in pairs(Players:GetPlayers()) do
                    if not getgenv().autoWinBrawl then break end
                    
                    pcall(function()
                        if isValidTarget(player) then
                            local targetRoot = player.Character.HumanoidRootPart
                            
                            if leftHand then
                                safeTouchInterest(targetRoot, leftHand)
                            end
                            
                            if rightHand then
                                safeTouchInterest(targetRoot, rightHand)
                            end
                        end
                    end)
                    
                    task.wait(0.01)
                end
            end
        end
    end)
    
    task.spawn(function()
        local lastPlayerCount = 0
        local stuckCounter = 0
        
        while getgenv().autoWinBrawl and task.wait(1) do
            if not getgenv().autoWinBrawl then break end
            
            local currentPlayerCount = #Players:GetPlayers()
            
            if currentPlayerCount ~= lastPlayerCount then
                stuckCounter = 0
                lastPlayerCount = currentPlayerCount
            else
                stuckCounter = stuckCounter + 1
                
                if stuckCounter > 5 then
                    stuckCounter = 0
                    
                    pcall(function()
                        local character = game.Players.LocalPlayer.Character
                        if character and character:FindFirstChild("Punch") then
                            character.Punch.Parent = game.Players.LocalPlayer.Backpack
                            task.wait(0.1)
                            equipPunch()
                        else
                            equipPunch()
                        end
                    end)
                end
            end
        end
    end)
end)

BrawlFolder:AddSwitch("Auto Join Brawls", function(bool)
    getgenv().autoJoinBrawl = bool
    if bool then
        task.spawn(function()
            while getgenv().autoJoinBrawl and task.wait(0.5) do
                if not getgenv().autoJoinBrawl then break end
                pcall(function()
                    if game.Players.LocalPlayer.PlayerGui.gameGui.brawlJoinLabel.Visible then
                        game.ReplicatedStorage.rEvents.brawlEvent:FireServer("joinBrawl")
                        game.Players.LocalPlayer.PlayerGui.gameGui.brawlJoinLabel.Visible = false
                    end
                end)
            end
        end)
    end
end)

local rockFolder = FarmTab:AddFolder("  Auto Rocks")

local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local LocalPlayer = Players.LocalPlayer

local function AddAutoPunchRock(title, rockName, delay)
    local enabled = false

    rockFolder:AddSwitch(title, function(state)
        enabled = state

        if enabled then
            task.spawn(function()
                while enabled do
                    local rock
                    
                    if tonumber(rockName) then
                        rock = Workspace.machinesFolder:GetChildren()[tonumber(rockName)]
                    else
                        rock = Workspace.machinesFolder:FindFirstChild(rockName)
                    end

                    if rock and rock:FindFirstChild("Rock") and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("LeftHand") then
                        firetouchinterest(rock.Rock, LocalPlayer.Character.LeftHand, 0)
                        task.wait(delay)
                        firetouchinterest(rock.Rock, LocalPlayer.Character.LeftHand, 1)
                    end

                    RunService.Heartbeat:Wait()
                end
            end)
        end
    end)
end

-- 0 Durability
AddAutoPunchRock("Auto Punch Tiny Rock (0)", "Tiny Rock", 0.01)

-- 10 Durability
AddAutoPunchRock("Auto Punch Punching Rock (10)", "Punching Rock", 0.01)

-- 100 Durability
AddAutoPunchRock("Auto Punch Large Rock (100)", "Large Rock", 0.01)

-- 5,000 Durability
AddAutoPunchRock("Auto Punch Golden Rock (5K)", "Golden Rock", 0.01)

-- 150,000 Durability
AddAutoPunchRock("Auto Punch Frozen Rock (150K)", "Frozen Rock", 0.01)

-- 400,000 Durability
AddAutoPunchRock("Auto Punch Mystic Rock (400K)", "Mystic Rock", 0.01)

-- 750,000 Durability
AddAutoPunchRock("Auto Punch Inferno Rock (750K)", "Inferno Rock", 0.01)

-- 1,000,000 Durability
AddAutoPunchRock("Auto Punch Rock Of Legends (1M)", "Rock Of Legends", 0.01)

-- 5,000,000 Durability
AddAutoPunchRock("Auto Punch Muscle King Rock (5M)", "Muscle King Mountain", 0.0001)

-- 10,000,000 Durability
AddAutoPunchRock("Auto Punch Jungle Rock (10M)", "Ancient Jungle Rock", 0.0001)

rockFolder:AddSwitch("Auto Punch", function(state)
    _G.autopunch = state

    if state then
        local connection
        connection = RunService.Heartbeat:Connect(function()
            if not _G.autopunch then
                connection:Disconnect()
                return
            end

            local char = LocalPlayer.Character
            local hum = char and char:FindFirstChildOfClass("Humanoid")

            if hum then
                local punchTool = LocalPlayer.Backpack:FindFirstChild("Punch")
                if punchTool then hum:EquipTool(punchTool) end

                LocalPlayer.muscleEvent:FireServer("punch", "rightHand")
                LocalPlayer.muscleEvent:FireServer("punch", "leftHand")
            end
        end)
    end
end)

local RockFolder = FarmTab:AddFolder("  Auto Rock V2")

local RunService = game:GetService("RunService")
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

_G.autopunch = false
local autopunchConnection = nil

local function StartAutoPunch()
    if autopunchConnection then autopunchConnection:Disconnect() end

    autopunchConnection = RunService.Heartbeat:Connect(function()
        if not _G.autopunch then
            autopunchConnection:Disconnect()
            autopunchConnection = nil
            return
        end

        local char = LocalPlayer.Character
        local hum = char and char:FindFirstChildOfClass("Humanoid")
        if not hum then return end

        local punch = LocalPlayer.Backpack:FindFirstChild("Punch")
        if punch then hum:EquipTool(punch) end

        LocalPlayer.muscleEvent:FireServer("punch", "rightHand")
        LocalPlayer.muscleEvent:FireServer("punch", "leftHand")
    end)
end

local function StopAutoPunch()
    _G.autopunch = false
    if autopunchConnection then autopunchConnection:Disconnect() end
end

local function FreezePlayer(char)
    local hum = char and char:FindFirstChildOfClass("Humanoid")
    if hum then
        hum.WalkSpeed = 0
        hum.JumpPower = 0
        hum.JumpHeight = 0
    end
end

local function UnfreezePlayer(char)
    local hum = char and char:FindFirstChildOfClass("Humanoid")
    if hum then
        hum.WalkSpeed = 16
        hum.JumpPower = 50
        hum.JumpHeight = 7.2
    end
end

local function AddTeleportRock(title, pos, rot)
    local enabled = false
    local reconnect = nil

    RockFolder:AddSwitch(title, function(state)
        enabled = state

        if enabled then
            _G.autopunch = true
            StartAutoPunch()

            task.spawn(function()
                while enabled do
                    local char = LocalPlayer.Character
                    local hrp = char and char:FindFirstChild("HumanoidRootPart")

                    if hrp then
                        hrp.CFrame = 
                            CFrame.new(pos) *
                            CFrame.Angles(
                                math.rad(rot.X),
                                math.rad(rot.Y),
                                math.rad(rot.Z)
                            )
                        FreezePlayer(char)
                    end

                    RunService.Heartbeat:Wait()
                end
            end)

            reconnect = LocalPlayer.CharacterAdded:Connect(function(char)
                task.wait(1)
                FreezePlayer(char)
                char:WaitForChild("HumanoidRootPart").CFrame =
                    CFrame.new(pos) *
                    CFrame.Angles(
                        math.rad(rot.X),
                        math.rad(rot.Y),
                        math.rad(rot.Z)
                    )
            end)

        else
            StopAutoPunch()

            local char = LocalPlayer.Character
            if char then UnfreezePlayer(char) end

            if reconnect then reconnect:Disconnect() end
        end
    end)
end

AddTeleportRock("Tiny Rock (0)", Vector3.new(14, 8, 2094), Vector3.new(0, -158, 0))
AddTeleportRock("Punching Rock (10)", Vector3.new(-150, 7, 405), Vector3.new(0, 177, 0))
AddTeleportRock("Large Rock (100)", Vector3.new(165, 7, -138), Vector3.new(0, 15, 0))
AddTeleportRock("Golden Rock (5K)", Vector3.new(336, 8, -615), Vector3.new(0, 127, 0))
AddTeleportRock("Frozen Rock (150K)", Vector3.new(-2592, 7, -244), Vector3.new(0, -84, 0))
AddTeleportRock("Mystic Rock (400K)", Vector3.new(2225, 7, 1249), Vector3.new(0, 90, 0))
AddTeleportRock("Inferno Rock (750K)", Vector3.new(-7223, 7, -1259), Vector3.new(0, 95, 0))
AddTeleportRock("Rock Of Legends (1M)", Vector3.new(4161, 992, -4037), Vector3.new(0, 35, 0))
AddTeleportRock("Muscle King (5M)", Vector3.new(-8976, 9, -6133), Vector3.new(0, -178, 0))
AddTeleportRock("Jungle Rock (10M)", Vector3.new(-7642, 7, 2816), Vector3.new(0, -152, 0))

local autoEquipToolsFolder = FarmTab:AddFolder("  Auto Equip Tools")

autoEquipToolsFolder:AddButton("Gamepass AutoLift", function()
    local gamepassFolder = game:GetService("ReplicatedStorage").gamepassIds
    local player = game:GetService("Players").LocalPlayer
    for _, gamepass in pairs(gamepassFolder:GetChildren()) do
        local value = Instance.new("IntValue")
        value.Name = gamepass.Name
        value.Value = gamepass.Value
        value.Parent = player.ownedGamepasses
    end
end, "Desbloquea el gamepass de AutoLift gratis")

autoEquipToolsFolder:AddSwitch("Auto Weight", function(Value)
    _G.AutoWeight = Value
    
    if Value then
        local weightTool = game.Players.LocalPlayer.Backpack:FindFirstChild("Weight")
        if weightTool then
            game.Players.LocalPlayer.Character.Humanoid:EquipTool(weightTool)
        end
    else
        local character = game.Players.LocalPlayer.Character
        local equipped = character:FindFirstChild("Weight")
        if equipped then
            equipped.Parent = game.Players.LocalPlayer.Backpack
        end
    end
    
    task.spawn(function()
        while _G.AutoWeight do
            if not _G.AutoWeight then break end
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer("rep")
            task.wait(0.1)
        end
    end)
end, "Levanta pesas automÃ¡ticamente")

autoEquipToolsFolder:AddSwitch("Auto Pushups", function(Value)
    _G.AutoPushups = Value
    
    if Value then
        local pushupsTool = game.Players.LocalPlayer.Backpack:FindFirstChild("Pushups")
        if pushupsTool then
            game.Players.LocalPlayer.Character.Humanoid:EquipTool(pushupsTool)
        end
    else
        local character = game.Players.LocalPlayer.Character
        local equipped = character:FindFirstChild("Pushups")
        if equipped then
            equipped.Parent = game.Players.LocalPlayer.Backpack
        end
    end
    
    task.spawn(function()
        while _G.AutoPushups do
            if not _G.AutoPushups then break end
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer("rep")
            task.wait(0.1)
        end
    end)
end, "Haz flexiones automÃ¡ticamente")

autoEquipToolsFolder:AddSwitch("Auto Handstands", function(Value)
    _G.AutoHandstands = Value
    
    if Value then
        local handstandsTool = game.Players.LocalPlayer.Backpack:FindFirstChild("Handstands")
        if handstandsTool then
            game.Players.LocalPlayer.Character.Humanoid:EquipTool(handstandsTool)
        end
    else
        local character = game.Players.LocalPlayer.Character
        local equipped = character:FindFirstChild("Handstands")
        if equipped then
            equipped.Parent = game.Players.LocalPlayer.Backpack
        end
    end
    
    task.spawn(function()
        while _G.AutoHandstands do
            if not _G.AutoHandstands then break end
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer("rep")
            task.wait(0.1)
        end
    end)
end, "Haz paradas de manos automÃ¡ticamente")

autoEquipToolsFolder:AddSwitch("Auto Situps", function(Value)
    _G.AutoSitups = Value
    
    if Value then
        local situpsTool = game.Players.LocalPlayer.Backpack:FindFirstChild("Situps")
        if situpsTool then
            game.Players.LocalPlayer.Character.Humanoid:EquipTool(situpsTool)
        end
    else
        local character = game.Players.LocalPlayer.Character
        local equipped = character:FindFirstChild("Situps")
        if equipped then
            equipped.Parent = game.Players.LocalPlayer.Backpack
        end
    end
    
    task.spawn(function()
        while _G.AutoSitups do
            if not _G.AutoSitups then break end
            game:GetService("Players").LocalPlayer.muscleEvent:FireServer("rep")
            task.wait(0.1)
        end
    end)
end, "Haz abdominales automÃ¡ticamente")

autoEquipToolsFolder:AddSwitch("Auto Punch", function(Value)
    _G.fastHitActive = Value
    
    if Value then
        task.spawn(function()
            while _G.fastHitActive do
                if not _G.fastHitActive then break end
                
                local player = game.Players.LocalPlayer
                local punch = player.Backpack:FindFirstChild("Punch")
                if punch then
                    punch.Parent = player.Character
                    if punch:FindFirstChild("attackTime") then
                        punch.attackTime.Value = 0
                    end
                end
                task.wait(0.1)
            end
        end)
        
        task.spawn(function()
            while _G.fastHitActive do
                if not _G.fastHitActive then break end
                
                local player = game.Players.LocalPlayer
                player.muscleEvent:FireServer("punch", "rightHand")
                player.muscleEvent:FireServer("punch", "leftHand")
                
                local character = player.Character
                if character then
                    local punchTool = character:FindFirstChild("Punch")
                    if punchTool then
                        punchTool:Activate()
                    end
                end
                task.wait(0)
            end
        end)
    else
        local character = game.Players.LocalPlayer.Character
        local equipped = character:FindFirstChild("Punch")
        if equipped then
            equipped.Parent = game.Players.LocalPlayer.Backpack
        end
    end
end, "Golpea automÃ¡ticamente")

autoEquipToolsFolder:AddSwitch("Fast Tools", function(Value)
    _G.FastTools = Value
    
    local defaultSpeeds = {
        {
            "Punch",
            "attackTime",
            Value and 0 or 0.35
        },
        {
            "Ground Slam",
            "attackTime",
            Value and 0 or 6
        },
        {
            "Stomp",
            "attackTime",
            Value and 0 or 7
        },
        {
            "Handstands",
            "repTime",
            Value and 0 or 1
        },
        {
            "Pushups",
            "repTime",
            Value and 0 or 1
        },
        {
            "Weight",
            "repTime",
            Value and 0 or 1
        },
        {
            "Situps",
            "repTime",
            Value and 0 or 1
        }
    }
    
    local player = game.Players.LocalPlayer
    local backpack = player:WaitForChild("Backpack")
    
    for _, toolInfo in ipairs(defaultSpeeds) do
        local tool = backpack:FindFirstChild(toolInfo[1])
        if tool and tool:FindFirstChild(toolInfo[2]) then
            tool[toolInfo[2]].Value = toolInfo[3]
        end
        
        local equippedTool = player.Character and player.Character:FindFirstChild(toolInfo[1])
        if equippedTool and equippedTool:FindFirstChild(toolInfo[2]) then
            equippedTool[toolInfo[2]].Value = toolInfo[3]
        end
    end
end, "Acelera todas las herramientas")

local toolsCombFolder = FarmTab:AddFolder("  Auto Tools Combined")

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local function AddAutoTool(title, toolName, rockName, delay)
    local enabled = false

    local function Equip()
        local bp = LocalPlayer:FindFirstChild("Backpack")
        local tool = bp and bp:FindFirstChild(toolName)
        if tool and not LocalPlayer.Character:FindFirstChild(toolName) then
            LocalPlayer.Character.Humanoid:EquipTool(tool)
        end
    end

    local function Unequip()
        local char = LocalPlayer.Character
        local tool = char and char:FindFirstChild(toolName)
        if tool then tool.Parent = LocalPlayer.Backpack end
    end

    local sw = toolsCombFolder:AddSwitch(title, function(state)
        enabled = state

        if enabled then
            Equip()
            _G.autopunch = true

            task.spawn(function()
                while enabled do
                    LocalPlayer.muscleEvent:FireServer("rep")

                    local rock = workspace.machinesFolder:FindFirstChild(rockName)
                    if rock and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("LeftHand") then
                        firetouchinterest(rock.Rock, LocalPlayer.Character.LeftHand, 0)
                        task.wait(delay)
                        firetouchinterest(rock.Rock, LocalPlayer.Character.LeftHand, 1)
                    end

                    local char = LocalPlayer.Character
                    local hum = char and char:FindFirstChildOfClass("Humanoid")
                    if hum then
                        local punchTool = LocalPlayer.Backpack:FindFirstChild("Punch")
                        if punchTool then hum:EquipTool(punchTool) end
                        LocalPlayer.muscleEvent:FireServer("punch", "rightHand")
                        LocalPlayer.muscleEvent:FireServer("punch", "leftHand")
                    end

                    RunService.RenderStepped:Wait()
                    Equip()
                end
            end)

        else
            _G.autopunch = false
            Unequip()
        end
    end)

    LocalPlayer.CharacterAdded:Connect(function()
        if enabled then Equip() else Unequip() end
    end)

    sw:Set(false)
end

AddAutoTool("Auto Pushup + Auto Punch Rock", "Pushups", "Ancient Jungle Rock", 0.0001)
AddAutoTool("Auto Situp + Auto Punch Rock", "Situps", "Ancient Jungle Rock", 0.0001)
AddAutoTool("Auto Handstands + Auto Punch Rock", "Handstands", "Ancient Jungle Rock", 0.0001)
AddAutoTool("Auto Weight + Auto Punch Rock", "Weight", "Ancient Jungle Rock", 0.0001)

local rebirthsFolder = FarmTab:AddFolder("  Auto Rebirths")

rebirthsFolder:AddTextBox("Rebirth Target", function(text)
    local newValue = tonumber(text)
    if newValue and newValue > 0 then
        targetRebirthValue = newValue
        updateStats() 
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Objetivo Actualizado",
            Text = "Nuevo objetivo: " .. tostring(targetRebirthValue) .. " renacimientos",
            Duration = 0
        })
    else
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Entrada InvÃ¡lida",
            Text = "Por favor ingresa un nÃºmero vÃ¡lido mayor que 0",
            Duration = 0
        })
    end
end)

local infiniteSwitch 

local targetSwitch = rebirthsFolder:AddSwitch("Auto Rebirth Target", function(bool)
    _G.targetRebirthActive = bool
    
    if bool then
        if _G.infiniteRebirthActive and infiniteSwitch then
            infiniteSwitch:Set(false)
            _G.infiniteRebirthActive = false
        end
        
        spawn(function()
            while _G.targetRebirthActive and wait(0.1) do
                local currentRebirths = game.Players.LocalPlayer.leaderstats.Rebirths.Value
                
                if currentRebirths >= targetRebirthValue then
                    targetSwitch:Set(false)
                    _G.targetRebirthActive = false
                    
                    game:GetService("StarterGui"):SetCore("SendNotification", {
                        Title = "Â¡Objetivo Alcanzado!",
                        Text = "Has alcanzado " .. tostring(targetRebirthValue) .. " renacimientos",
                        Duration = 5
                    })
                    
                    break
                end
                
                game:GetService("ReplicatedStorage").rEvents.rebirthRemote:InvokeServer("rebirthRequest")
            end
        end)
    end
end, "Renacimiento automÃ¡tico hasta alcanzar el objetivo")

infiniteSwitch = rebirthsFolder:AddSwitch("Auto Rebirth (Infinite)", function(bool)
    _G.infiniteRebirthActive = bool
    
    if bool then
        if _G.targetRebirthActive and targetSwitch then
            targetSwitch:Set(false)
            _G.targetRebirthActive = false
        end
        
        spawn(function()
            while _G.infiniteRebirthActive and wait(0.1) do
                game:GetService("ReplicatedStorage").rEvents.rebirthRemote:InvokeServer("rebirthRequest")
            end
        end)
    end
end, "Renacimiento continuo sin parar")

local sizeSwitch = rebirthsFolder:AddSwitch("Auto Size 1", function(bool)
    _G.autoSizeActive = bool
    
    if bool then
        spawn(function()
            while _G.autoSizeActive and wait() do
                game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", 1)
            end
        end)
    end
end, "Establece el tamaÃ±o del personaje a 1 continuamente")

local ssizeSwitch = rebirthsFolder:AddSwitch("Auto Size 2", function(bool)
    _G.autoSizeActive = bool
    
    if bool then
        spawn(function()
            while _G.autoSizeActive and wait() do
                game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", 2)
            end
        end)
    end
end, "Establece el tamaÃ±o del personaje a 2 continuamente")

rebirthsFolder:AddSwitch("Auto Teleport King", function(state)
    _G.SafeZone = state

    if state then
        while _G.SafeZone do
            local char = game.Players.LocalPlayer.Character
            local pos = Vector3.new(-8636, 17, -5759)

            if char and char:FindFirstChild("HumanoidRootPart") then
                char.HumanoidRootPart.CFrame = CFrame.new(pos)
            end

            task.wait(0.001)
        end
    end
end)

rebirthsFolder:AddButton("Anti Rebirth", function()
    local oldNamecall
    oldNamecall = hookmetamethod(game, "__namecall", function(self, ...)
        local args = { ... }

        if self.Name == "rebirthRemote" and args[1] == "rebirthRequest" then
            return 
        end

        return oldNamecall(self, unpack(args))
    end)
end)

local opThingsFolder = FarmTab:AddFolder("  OP Things/Farms")

local switch = opThingsFolder:AddSwitch("Lock Position", function(Value)
    if Value then
        
        local currentPos = game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame
        getgenv().posLock = game:GetService("RunService").Heartbeat:Connect(function()
            if game.Players.LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                game.Players.LocalPlayer.Character.HumanoidRootPart.CFrame = currentPos
            end
        end)
    else
        
        if getgenv().posLock then
            getgenv().posLock:Disconnect()
            getgenv().posLock = nil
        end
    end
end)

opThingsFolder:AddSwitch("Anti Knockback", function(Value)
    if Value then
        local playerName = game.Players.LocalPlayer.Name
        local rootPart = game.Workspace:FindFirstChild(playerName):FindFirstChild("HumanoidRootPart")
        local bodyVelocity = Instance.new("BodyVelocity")
        bodyVelocity.MaxForce = Vector3.new(100000, 0, 100000)
        bodyVelocity.Velocity = Vector3.new(0, 0, 0)
        bodyVelocity.P = 1250
        bodyVelocity.Parent = rootPart
    else
        local playerName = game.Players.LocalPlayer.Name
        local rootPart = game.Workspace:FindFirstChild(playerName):FindFirstChild("HumanoidRootPart")
        local existingVelocity = rootPart:FindFirstChild("BodyVelocity")
        if existingVelocity and existingVelocity.MaxForce == Vector3.new(100000, 0, 100000) then
            existingVelocity:Destroy()
        end
    end
end)

opThingsFolder:AddSwitch("Delete All Frames", function(state)
    local rSto = game:GetService("ReplicatedStorage")
    for _, obj in pairs(rSto:GetChildren()) do
        if obj.Name:match("Frame$") and obj:IsA("GuiObject") then
            if state then
                obj:Destroy()
            end
        end
    end
end)

opThingsFolder:AddSwitch("Anti AFK", function(state)
    if state then
       
        if getgenv().AntiAfkExecuted and thisoneissocoldww then 
            getgenv().AntiAfkExecuted = false
            getgenv().zamanbaslaticisi = false
            game.CoreGui.thisoneissocoldww:Destroy()
        end
        getgenv().AntiAfkExecuted = true

        local thisoneissocoldww = Instance.new("ScreenGui")
        local madebybloodofbatus = Instance.new("Frame")
        local UICornerw = Instance.new("UICorner")
        local DestroyButton = Instance.new("TextButton")
        local uselesslabelone = Instance.new("TextLabel")
        local timerlabel = Instance.new("TextLabel")
        local uselesslabeltwo = Instance.new("TextLabel")
        local fpslabel = Instance.new("TextLabel")
        local uselesslabelthree = Instance.new("TextLabel")
        local pinglabel = Instance.new("TextLabel")
        local uselessframeone = Instance.new("Frame")
        local UICornerww = Instance.new("UICorner")
        local uselesslabelfour = Instance.new("TextLabel")

        thisoneissocoldww.Name = "thisoneissocoldww"
        thisoneissocoldww.Parent = game.CoreGui
        thisoneissocoldww.ZIndexBehavior = Enum.ZIndexBehavior.Sibling

        madebybloodofbatus.Name = "madebybloodofbatus"
        madebybloodofbatus.Parent = thisoneissocoldww
        madebybloodofbatus.BackgroundColor3 = Color3.fromRGB(250, 140, 227)
        madebybloodofbatus.Position = UDim2.new(0.085,0,0.13,0)
        madebybloodofbatus.Size = UDim2.new(0,225,0,96)
        UICornerw.Parent = madebybloodofbatus

        DestroyButton.Name = "DestroyButton"
        DestroyButton.Parent = madebybloodofbatus
        DestroyButton.BackgroundTransparency = 1
        DestroyButton.Position = UDim2.new(0.87,0,0.02,0)
        DestroyButton.Size = UDim2.new(0,27,0,15)
        DestroyButton.Font = Enum.Font.SourceSans
        DestroyButton.Text = "X"
        DestroyButton.TextColor3 = Color3.fromRGB(255,255,255)
        DestroyButton.TextSize = 14
        DestroyButton.MouseButton1Click:Connect(function()
            getgenv().AntiAfkExecuted = false
            wait(0.1)
            thisoneissocoldww:Destroy()
        end)

        uselesslabelone.Parent = madebybloodofbatus
        uselesslabelone.BackgroundTransparency = 1
        uselesslabelone.Position = UDim2.new(0.3,0,0,0)
        uselesslabelone.Size = UDim2.new(0,95,0,24)
        uselesslabelone.Font = Enum.Font.SourceSans
        uselesslabelone.Text = "Anti AFK V2 By Sherya"
        uselesslabelone.TextColor3 = Color3.fromRGB(255,255,255)
        uselesslabelone.TextSize = 14

        timerlabel.Parent = madebybloodofbatus
        timerlabel.BackgroundTransparency = 1
        timerlabel.Position = UDim2.new(0.65,0,0.68,0)
        timerlabel.Size = UDim2.new(0,60,0,24)
        timerlabel.Font = Enum.Font.SourceSans
        timerlabel.Text = "0:0:0"
        timerlabel.TextColor3 = Color3.fromRGB(255,255,255)
        timerlabel.TextSize = 14

        uselesslabeltwo.Parent = madebybloodofbatus
        uselesslabeltwo.BackgroundTransparency = 1
        uselesslabeltwo.Position = UDim2.new(0.03,0,0.37,0)
        uselesslabeltwo.Size = UDim2.new(0,29,0,24)
        uselesslabeltwo.Font = Enum.Font.SourceSans
        uselesslabeltwo.Text = "Ping: "
        uselesslabeltwo.TextColor3 = Color3.fromRGB(255,255,255)
        uselesslabeltwo.TextSize = 14

        fpslabel.Parent = madebybloodofbatus
        fpslabel.BackgroundTransparency = 1
        fpslabel.Position = UDim2.new(0.72,0,0.35,0)
        fpslabel.Size = UDim2.new(0,55,0,24)
        fpslabel.Font = Enum.Font.SourceSans
        fpslabel.Text = "0"
        fpslabel.TextColor3 = Color3.fromRGB(255,255,255)
        fpslabel.TextSize = 14

        uselesslabelthree.Parent = madebybloodofbatus
        uselesslabelthree.BackgroundTransparency = 1
        uselesslabelthree.Position = UDim2.new(0.5,0,0.35,0)
        uselesslabelthree.Size = UDim2.new(0,26,0,24)
        uselesslabelthree.Font = Enum.Font.SourceSans
        uselesslabelthree.Text = "Fps: "
        uselesslabelthree.TextColor3 = Color3.fromRGB(255,255,255)
        uselesslabelthree.TextSize = 14

        pinglabel.Parent = madebybloodofbatus
        pinglabel.BackgroundTransparency = 1
        pinglabel.Position = UDim2.new(0.2,0,0.37,0)
        pinglabel.Size = UDim2.new(0,55,0,24)
        pinglabel.Font = Enum.Font.SourceSans
        pinglabel.Text = "0"
        pinglabel.TextColor3 = Color3.fromRGB(255,255,255)
        pinglabel.TextSize = 14
        pinglabel.TextWrapped = true

        uselessframeone.Parent = madebybloodofbatus
        uselessframeone.BackgroundColor3 = Color3.fromRGB(255,255,255)
        uselessframeone.Position = UDim2.new(0.004,0,0.24,0)
        uselessframeone.Size = UDim2.new(0,224,0,5)
        UICornerww.CornerRadius = UDim.new(0,50)
        UICornerww.Parent = uselessframeone

        uselesslabelfour.Parent = madebybloodofbatus
        uselesslabelfour.BackgroundTransparency = 1
        uselesslabelfour.Position = UDim2.new(0.05,0,0.81,0)
        uselesslabelfour.Size = UDim2.new(0,95,0,12)
        uselesslabelfour.Font = Enum.Font.SourceSans
        uselesslabelfour.Text = "Anti-Afk Auto Enabled"
        uselesslabelfour.TextColor3 = Color3.fromRGB(255,255,255)
        uselesslabelfour.TextSize = 14

       
        local Drag = madebybloodofbatus
        local gsTween = game:GetService("TweenService")
        local UserInputService = game:GetService("UserInputService")
        local dragging, dragInput, dragStart, startPos
        local function update(input)
            local delta = input.Position - dragStart
            local dragTime = 0.04
            local SmoothDrag = {}
            SmoothDrag.Position = UDim2.new(startPos.X.Scale,startPos.X.Offset+delta.X,startPos.Y.Scale,startPos.Y.Offset+delta.Y)
            gsTween:Create(Drag,TweenInfo.new(dragTime,Enum.EasingStyle.Sine,Enum.EasingDirection.InOut),SmoothDrag):Play()
        end
        Drag.InputBegan:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
                dragging = true
                dragStart = input.Position
                startPos = Drag.Position
                input.Changed:Connect(function()
                    if input.UserInputState == Enum.UserInputState.End then dragging = false end
                end)
            end
        end)
        Drag.InputChanged:Connect(function(input)
            if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
                dragInput = input
            end
        end)
        UserInputService.InputChanged:Connect(function(input)
            if input == dragInput and dragging then update(input) end
        end)

    
        local vu = game:GetService('VirtualUser')
        game.Players.LocalPlayer.Idled:Connect(function()
            vu:CaptureController()
            vu:ClickButton2(Vector2.new())
        end)

        
        local RunService = game:GetService("RunService")
        local sec = tick()
        local FPS = {}
        RunService.RenderStepped:Connect(function()
            local fr = tick()
            for i=#FPS,1,-1 do FPS[i+1] = (FPS[i]>=fr-1) and FPS[i] or nil end
            FPS[1] = fr
            local fps = math.floor((tick()-sec>=1 and #FPS) or (#FPS/(tick()-sec)))
            fpslabel.Text = fps
        end)

        spawn(function()
            while getgenv().AntiAfkExecuted do
                wait(1)
                local ping = math.floor(tonumber(game:GetService("Stats"):FindFirstChild("PerformanceStats").Ping:GetValue()))
                pinglabel.Text = ping
            end
        end)

      
        local saniye, dakika, saat = 0,0,0
        getgenv().zamanbaslaticisi = true
        spawn(function()
            while getgenv().zamanbaslaticisi do
                saniye = saniye + 1
                wait(1)
                if saniye>=60 then saniye=0;dakika=dakika+1 end
                if dakika>=60 then dakika=0;saat=saat+1 end
                timerlabel.Text = saat..":"..dakika..":"..saniye
            end
        end)
    else
        
        getgenv().AntiAfkExecuted = false
        getgenv().zamanbaslaticisi = false
        if game.CoreGui:FindFirstChild("thisoneissocoldww") then
            game.CoreGui.thisoneissocoldww:Destroy()
        end
    end
end)

local MiscTab = window:AddTab("Misc")

local misc1Folder = MiscTab:AddFolder("  Misc 1")

local player = game:GetService("Players").LocalPlayer
local sizeValue = 2
local speedValue = 16
local autoSizeEnabled = false
local autoSpeedEnabled = false
local autoSizeConnection = nil
local autoSpeedConnection = nil

misc1Folder:AddTextBox("Auto Size", function(text)
    sizeValue = tonumber(text) or 2

    if autoSizeEnabled then
        pcall(function()
            game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", sizeValue)
        end)
    end
end)

local autoSizeSwitch = misc1Folder:AddSwitch("Auto Set Size", function(bool)
    autoSizeEnabled = bool

    if autoSizeEnabled then
        spawn(function()
            while autoSizeEnabled do
                pcall(function()
                    game:GetService("ReplicatedStorage").rEvents.changeSpeedSizeRemote:InvokeServer("changeSize", sizeValue)
                end)
                wait(0.1)
            end
        end)
    end
end)

misc1Folder:AddTextBox("Auto Speed", function(text)
    speedValue = tonumber(text) or 16

    if player and player.Character and player.Character:FindFirstChild("Humanoid") then
        player.Character.Humanoid.WalkSpeed = speedValue
    end
end)

misc1Folder:AddSwitch("Auto Set Speed", function(bool)
    autoSpeedEnabled = bool

    if autoSpeedEnabled then
        if player and player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.WalkSpeed = speedValue
        end

        if autoSpeedConnection then
            autoSpeedConnection:Disconnect()
        end

        autoSpeedConnection = player.CharacterAdded:Connect(function(character)
            local humanoid = character:WaitForChild("Humanoid")
            if humanoid then
                humanoid.WalkSpeed = speedValue
            end
        end)
    else
        if autoSpeedConnection then
            autoSpeedConnection:Disconnect()
            autoSpeedConnection = nil
        end
    end
end)

local Players = game:GetService("Players")
local player = Players.LocalPlayer

local jumpValue = 50  -- valor inicial
local autoJumpEnabled = false
local autoJumpConnection

misc1Folder:AddTextBox("Jump Power", function(text)
    jumpValue = tonumber(text) or 50

    if player.Character and player.Character:FindFirstChild("Humanoid") then
        player.Character.Humanoid.JumpPower = jumpValue
    end
end)

misc1Folder:AddSwitch("Auto Set JumpPower", function(state)
    autoJumpEnabled = state

    if autoJumpEnabled then
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.UseJumpPower = true
            player.Character.Humanoid.JumpPower = jumpValue
        end

        if autoJumpConnection then
            autoJumpConnection:Disconnect()
        end

        autoJumpConnection = player.CharacterAdded:Connect(function(character)
            local humanoid = character:WaitForChild("Humanoid")
            if humanoid then
                humanoid.UseJumpPower = true
                humanoid.JumpPower = jumpValue
            end
        end)

    else
        if autoJumpConnection then
            autoJumpConnection:Disconnect()
            autoJumpConnection = nil
        end
    end
end)

local Misc2 = MiscTab:AddFolder("  Misc 2")

local noclipEnabled = false
local noclipConnection = nil
local originalCanCollide = {}

local infiniteJumpEnabled = false
local infiniteJumpConnection = nil

local function toggleNoclip(enabled)
    local player = game.Players.LocalPlayer
    local character = player.Character or player.CharacterAdded:Wait()
    
    if enabled then
        noclipConnection = game:GetService("RunService").Stepped:Connect(function()
            if character and character:FindFirstChild("HumanoidRootPart") then
                for _, part in pairs(character:GetChildren()) do
                    if part:IsA("BasePart") then
                        if originalCanCollide[part] == nil then
                            originalCanCollide[part] = part.CanCollide
                        end
                        part.CanCollide = false
                    end
                end
            end
        end)
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "No-Clip";
            Text = "No-Clip activado! Puedes atravesar objetos.";
            Duration = 3;
        })
        
        print("No-Clip activado")
    else
        if noclipConnection then
            noclipConnection:Disconnect()
            noclipConnection = nil
        end
        
        if character then
            for _, part in pairs(character:GetChildren()) do
                if part:IsA("BasePart") and originalCanCollide[part] ~= nil then
                    part.CanCollide = originalCanCollide[part]
                end
            end
        end
        
        originalCanCollide = {}
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "No-Clip";
            Text = "No-Clip desactivado! Colisiones restauradas.";
            Duration = 3;
        })
        
        print("No-Clip desactivado")
    end
end

local function toggleInfiniteJump(enabled)
    local player = game.Players.LocalPlayer
    
    if enabled then
        infiniteJumpConnection = game:GetService("UserInputService").JumpRequest:Connect(function()
            local character = player.Character
            if character and character:FindFirstChild("Humanoid") then
                character.Humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
            end
        end)
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Infinite Jump";
            Text = "Infinite Jump activado! Salta infinitamente.";
            Duration = 3;
        })
        
        print("Infinite Jump activado")
    else
        if infiniteJumpConnection then
            infiniteJumpConnection:Disconnect()
            infiniteJumpConnection = nil
        end
        
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Infinite Jump";
            Text = "Infinite Jump desactivado! Salto normal restaurado.";
            Duration = 3;
        })
        
        print("Infinite Jump desactivado")
    end
end

local function setupCharacterConnections()
    local player = game.Players.LocalPlayer
    
    player.CharacterAdded:Connect(function(character)
        wait(1)
        
        if noclipEnabled then
            toggleNoclip(false)
            wait(0.1)
            toggleNoclip(true)
        end
        
        if infiniteJumpEnabled then
            toggleInfiniteJump(false)
            wait(0.1)
            toggleInfiniteJump(true)
        end
    end)
end

setupCharacterConnections()

local noclipSwitch = Misc2:AddSwitch("No-Clip", function(enabled)
    noclipEnabled = enabled
    toggleNoclip(enabled)
end)

local infiniteJumpSwitch = Misc2:AddSwitch("Infinite Jump", function(enabled)
    infiniteJumpEnabled = enabled
    toggleInfiniteJump(enabled)
end)

local timeDropdown =
    Misc2:AddDropdown(
    "Change Time",
    function(selection)
        local lighting = game:GetService("Lighting")

        if selection == "Night" then
            lighting.ClockTime = 0
        elseif selection == "Day" then
            lighting.ClockTime = 12
        elseif selection == "Midnight" then
            lighting.ClockTime = 6
        end
    end
)

timeDropdown:Add("Night")
timeDropdown:Add("Day")
timeDropdown:Add("Midnight")

Misc2:AddButton("Rejoin Server", function()
    local TeleportService = game:GetService("TeleportService")
    
    local success, result = pcall(function()
        TeleportService:TeleportToPlaceInstance(game.PlaceId, nil, player)
    end)
    
    if not success then
        TeleportService:Teleport(game.PlaceId, player)
    end
    
    print("Cambiando a otro servidor...")
end)

local misc3Folder = MiscTab:AddFolder("  Misc 3")

misc3Folder:AddButton("Remove Portals", function()
    for _, portal in pairs(game:GetDescendants()) do
        if portal.Name == "RobloxForwardPortals" then
            portal:Destroy()
        end
    end
    
    if _G.AdRemovalConnection then
        _G.AdRemovalConnection:Disconnect()
    end
    
    _G.AdRemovalConnection = game.DescendantAdded:Connect(function(descendant)
        if descendant.Name == "RobloxForwardPortals" then
            descendant:Destroy()
        end
    end)
    
    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Anuncios Eliminados",
        Text = "Los anuncios de Roblox han sido eliminados",
        Duration = 0
    })
end)

misc3Folder:AddSwitch("Auto Spin Wheel", function(bool)
    _G.AutoSpinWheel = bool
    
    if bool then
        spawn(function()
            while _G.AutoSpinWheel and wait(1) do
                game:GetService("ReplicatedStorage").rEvents.openFortuneWheelRemote:InvokeServer("openFortuneWheel", game:GetService("ReplicatedStorage").fortuneWheelChances["Fortune Wheel"])
            end
        end)
    end
end)

local parts = {}
local partSize = 2048
local totalDistance = 50000
local startPosition = Vector3.new(-2, -9.5, -2)
local numberOfParts = math.ceil(totalDistance / partSize)

local function createParts()
    for x = 0, numberOfParts - 1 do
        for z = 0, numberOfParts - 1 do
            local newPartSide = Instance.new("Part")
            newPartSide.Size = Vector3.new(partSize, 1, partSize)
            newPartSide.Position = startPosition + Vector3.new(x * partSize, 0, z * partSize)
            newPartSide.Anchored = true
            newPartSide.Transparency = 1
            newPartSide.CanCollide = true
            newPartSide.Name = "Part_Side_" .. x .. "_" .. z
            newPartSide.Parent = workspace
            table.insert(parts, newPartSide)
            
            local newPartLeftRight = Instance.new("Part")
            newPartLeftRight.Size = Vector3.new(partSize, 1, partSize)
            newPartLeftRight.Position = startPosition + Vector3.new(-x * partSize, 0, z * partSize)
            newPartLeftRight.Anchored = true
            newPartLeftRight.Transparency = 1
            newPartLeftRight.CanCollide = true
            newPartLeftRight.Name = "Part_LeftRight_" .. x .. "_" .. z
            newPartLeftRight.Parent = workspace
            table.insert(parts, newPartLeftRight)
            
            local newPartUpLeft = Instance.new("Part")
            newPartUpLeft.Size = Vector3.new(partSize, 1, partSize)
            newPartUpLeft.Position = startPosition + Vector3.new(-x * partSize, 0, -z * partSize)
            newPartUpLeft.Anchored = true
            newPartUpLeft.Transparency = 1
            newPartUpLeft.CanCollide = true
            newPartUpLeft.Name = "Part_UpLeft_" .. x .. "_" .. z
            newPartUpLeft.Parent = workspace
            table.insert(parts, newPartUpLeft)
            
            local newPartUpRight = Instance.new("Part")
            newPartUpRight.Size = Vector3.new(partSize, 1, partSize)
            newPartUpRight.Position = startPosition + Vector3.new(x * partSize, 0, -z * partSize)
            newPartUpRight.Anchored = true
            newPartUpRight.Transparency = 1
            newPartUpRight.CanCollide = true
            newPartUpRight.Name = "Part_UpRight_" .. x .. "_" .. z
            newPartUpRight.Parent = workspace
            table.insert(parts, newPartUpRight)
        end
    end
end

local function makePartsWalkthrough()
    for _, part in ipairs(parts) do
        if part and part.Parent then
            part.CanCollide = false
        end
    end
end

local function makePartsSolid()
    for _, part in ipairs(parts) do
        if part and part.Parent then
            part.CanCollide = true
        end
    end
end

misc3Folder:AddSwitch("Full Walk on Water", function(bool)
    if bool then
        createParts()
    else
        makePartsWalkthrough()
    end
end)

local gymsTab = window:AddTab("Gyms")

local Gyms = {
    ["Jungle Gym"] = {
        ["Bar Lift"] = CFrame.new(-8654, 3, 2072),
        ["Bench Press"] = CFrame.new(-8177, 60, 1913),
        ["Squat"] = CFrame.new(-8377, 50, 2860),
        ["Boulder"] = CFrame.new(-8617, 6, 2686)
    },

    ["Muscle King Gym"] = {
        ["Bar Lift"] = CFrame.new(-8776, 13, -5664),
        ["Bench Press"] = CFrame.new(-8593, 52, -6044),
        ["Squat"] = CFrame.new(-8760, 13, -6041),
        ["Boulder"] = CFrame.new(-8949, 17, -5693)
    },

    ["Legend Gym"] = {
        ["Bar Lift"] = CFrame.new(4533, 987, -4003),
        ["Bench Press"] = CFrame.new(4101, 1020, -3795),
        ["Squat"] = CFrame.new(4436, 991, -4056),
        ["Pull Up"] = CFrame.new(4301, 991, -4125)
    },

    ["Inferno Gym"] = {
        ["Bench Press"] = CFrame.new(-7175, 49, -1105)
    },

    ["Mythical Gym"] = {
        ["Bench Press"] = CFrame.new(2368, 43, 1247),
        ["Pull Up"] = CFrame.new(2486, 7, 848),
        ["Boulder"] = CFrame.new(2664, 7, 1208)
    },

    ["Frost Gym"] = {
        ["Bar Lift"] = CFrame.new(-3010, 43, -336),
        ["Bench Press"] = CFrame.new(-3012, 39, -339),
        ["Squat"] = CFrame.new(-2719, 7, -593)
    },

    ["Legend Beach"] = {
        ["Bar Lift"] = CFrame.new(-79, 7, -500),
        ["Bench Press"] = CFrame.new(198, 15, -375),
        ["Squat"] = CFrame.new(-203, 7, -422)
    },

    ["Spawn"] = {
        ["Bar Lift"] = CFrame.new(134, 3, 96),
        ["Bench Press"] = CFrame.new(75, 7, 350),
        ["Squat"] = CFrame.new(231, 7, 22),
        ["Pull Up"] = CFrame.new(-184, 4, 136)
    },

    ["Tiny Gym"] = {
        ["Bench Press"] = CFrame.new(-97, 6, 1900)
    }
}

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer
local RunService = game:GetService("RunService")

local function EquipPunch()
    local backpack = LocalPlayer.Backpack
    local char = LocalPlayer.Character
    if not char then return end

    for _, tool in ipairs(backpack:GetChildren()) do
        if tool.Name == "Punch" then
            char.Humanoid:EquipTool(tool)
        end
    end
end

local function Interact(exercise)
    local machines = workspace.machinesFolder:GetChildren()

    for _, machine in ipairs(machines) do
        if machine.Name == exercise and machine:FindFirstChild("interactSeat") then
            ReplicatedStorage.rEvents.machineInteractRemote:InvokeServer("useMachine", machine.interactSeat)
            task.wait(0.25)
            LocalPlayer.muscleEvent:FireServer("rep", machine.interactSeat)
        end
    end
end

local active = {}

for gymName, exercises in pairs(Gyms) do
    
    local folder = gymsTab:AddFolder(gymName) 

    for exerciseName, pos in pairs(exercises) do

        active[gymName .. exerciseName] = false

        folder:AddSwitch(exerciseName, function(state)  
            active[gymName .. exerciseName] = state

            if state then
                task.spawn(function()
                    while active[gymName .. exerciseName] do

                        -- Espera a que el personaje estÃ© cargado
                        if not LocalPlayer.Character or not LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
                            LocalPlayer.CharacterAdded:Wait()
                            task.wait(1)
                        end

                        pcall(function()
                            LocalPlayer.Character.HumanoidRootPart.CFrame = pos
                        end)

                        task.wait(0.4)

                        EquipPunch()

                        Interact(exerciseName)

                        RunService.Heartbeat:Wait()
                    end
                end)
            end

        end)

    end
end

local strengthStartValue = 0
local durabilityStartValue = 0
local rebirthsStartValue = 0
local killsStartValue = 0
local brawlsStartValue = 0

local strengthStartTime = 0
local durabilityStartTime = 0
local rebirthsStartTime = 0
local killsStartTime = 0
local brawlsStartTime = 0

local strengthActive = false
local durabilityActive = false
local rebirthsActive = false
local killsActive = false
local brawlsActive = false

local Calculator = window:AddTab("Calculator")

local strengthFolder = Calculator:AddFolder("Strength")
local durabilityFolder = Calculator:AddFolder("Durability")
local rebirthsFolder = Calculator:AddFolder("Rebirths")
local killsFolder = Calculator:AddFolder("Kills")
local brawlsFolder = Calculator:AddFolder("Brawls")

local function formatFull(num)
    local formatted = tostring(math.floor(num))
    local k
    while true do
        formatted, k = formatted:gsub("^(-?%d+)(%d%d%d)", "%1,%2")
        if k == 0 then break end
    end
    return formatted
end

local function formatNumber(num)
    if num == math.huge then
        return "âˆž"
    elseif num == 0 then
        return "0"
    elseif num < 0.01 and num > 0 then
        return "~0"
    end

    local abs = math.abs(num)
    local sign = num < 0 and "-" or ""
    local value, suffix

    if abs >= 1e30 then value, suffix = abs / 1e30, "No"
    elseif abs >= 1e27 then value, suffix = abs / 1e27, "Oc"
    elseif abs >= 1e24 then value, suffix = abs / 1e24, "Sp"
    elseif abs >= 1e21 then value, suffix = abs / 1e21, "Sx"
    elseif abs >= 1e18 then value, suffix = abs / 1e18, "Qt"
    elseif abs >= 1e15 then value, suffix = abs / 1e15, "Qd"
    elseif abs >= 1e12 then value, suffix = abs / 1e12, "T"
    elseif abs >= 1e9 then value, suffix = abs / 1e9, "B"
    elseif abs >= 1e6 then value, suffix = abs / 1e6, "M"
    elseif abs >= 1e3 then value, suffix = abs / 1e3, "K"
    else value, suffix = abs, ""
    end

    local cleanValue = tostring(tonumber(string.format("%.2f", value)))
    return sign .. cleanValue .. suffix
end

local function formatDisplay(num)
    return formatNumber(num) .. " ã€" .. formatFull(num) .. "ã€‘"
end

local function getCurrentStrength()
    local player = game.Players.LocalPlayer
    if player and player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Strength") then
        return player.leaderstats.Strength.Value
    end
    return 0
end

local function getCurrentDurability()
    local player = game.Players.LocalPlayer
    if player and player:FindFirstChild("Durability") then
        return player.Durability.Value
    end
    return 0
end

local function getCurrentRebirths()
    local player = game.Players.LocalPlayer
    if player and player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Rebirths") then
        return player.leaderstats.Rebirths.Value
    end
    return 0
end

local function getCurrentKills()
    local player = game.Players.LocalPlayer
    if player and player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Kills") then
        return player.leaderstats.Kills.Value
    end
    return 0
end

local function getCurrentBrawls()
    local player = game.Players.LocalPlayer
    if player and player:FindFirstChild("leaderstats") and player.leaderstats:FindFirstChild("Brawls") then
        return player.leaderstats.Brawls.Value
    end
    return 0
end

local function createLabels(folder)
    return {
        status = folder:AddLabel("Status: Presiona Start para comenzar"),
        current = folder:AddLabel("Current: 0"),
        gained = folder:AddLabel("Gained: 0"),
        perMinute = folder:AddLabel("Per Minute: 0"),
        perHour = folder:AddLabel("Per Hour: 0"),
        perDay = folder:AddLabel("Per Day: 0")
    }
end

local strengthLabels = createLabels(strengthFolder)
local durabilityLabels = createLabels(durabilityFolder)
local rebirthsLabels = createLabels(rebirthsFolder)
local killsLabels = createLabels(killsFolder)
local brawlsLabels = createLabels(brawlsFolder)

local function updateLabels(active, startTime, startValue, currentValue, labels)
    local currentTime = tick()
    labels.current.Text = "Current: " .. formatDisplay(currentValue)

    if active and startTime > 0 then
        local timeElapsed = currentTime - startTime
        local gained = currentValue - startValue
        labels.gained.Text = "Gained: " .. formatDisplay(gained)

        if timeElapsed >= 60 then
            local perMinute = (gained / timeElapsed) * 60
            local perHour = perMinute * 60
            local perDay = perHour * 24
            labels.status.Text = "Status:  Activo"
            labels.perMinute.Text = "Per Minute: " .. formatDisplay(perMinute)
            labels.perHour.Text = "Per Hour: " .. formatDisplay(perHour)
            labels.perDay.Text = "Per Day: " .. formatDisplay(perDay)
        else
            local remaining = 60 - timeElapsed
            labels.status.Text = "Status:  Calculando... " .. math.ceil(remaining) .. "s"
            labels.perMinute.Text = "Per Minute: Calculando..."
            labels.perHour.Text = "Per Hour: Calculando..."
            labels.perDay.Text = "Per Day: Calculando..."
        end
    else
        labels.gained.Text = "Gained: 0"
        labels.perMinute.Text = "Per Minute: 0"
        labels.perHour.Text = "Per Hour: 0"
        labels.perDay.Text = "Per Day: 0"
    end
end

strengthActive, durabilityActive, rebirthsActive, killsActive, brawlsActive = false, false, false, false, false
strengthStartTime, durabilityStartTime, rebirthsStartTime, killsStartTime, brawlsStartTime = 0, 0, 0, 0, 0
strengthStartValue, durabilityStartValue, rebirthsStartValue, killsStartValue, brawlsStartValue = 0, 0, 0, 0, 0

local function addCalculatorButtons(folder, name, getCurrent, labels, activeVar, startTimeVar, startValueVar)
    folder:AddButton("Start " .. name .. " Calculator", function()
        _G[activeVar] = true
        _G[startTimeVar] = tick()
        _G[startValueVar] = getCurrent()
        labels.status.Text = "Status:  Iniciado - Calculando..."
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Calculator";
            Text = name .. " Calculator iniciado!";
            Duration = 3;
        })
    end)

    folder:AddButton("Stop " .. name .. " Calculator", function()
        _G[activeVar] = false
        _G[startTimeVar] = 0
        _G[startValueVar] = 0
        labels.status.Text = "Status:  Detenido"
        game:GetService("StarterGui"):SetCore("SendNotification", {
            Title = "Calculator";
            Text = name .. " Calculator detenido!";
            Duration = 3;
        })
    end)
end

addCalculatorButtons(strengthFolder, "Strength", getCurrentStrength, strengthLabels, "strengthActive", "strengthStartTime", "strengthStartValue")
addCalculatorButtons(durabilityFolder, "Durability", getCurrentDurability, durabilityLabels, "durabilityActive", "durabilityStartTime", "durabilityStartValue")
addCalculatorButtons(rebirthsFolder, "Rebirths", getCurrentRebirths, rebirthsLabels, "rebirthsActive", "rebirthsStartTime", "rebirthsStartValue")
addCalculatorButtons(killsFolder, "Kills", getCurrentKills, killsLabels, "killsActive", "killsStartTime", "killsStartValue")
addCalculatorButtons(brawlsFolder, "Brawls", getCurrentBrawls, brawlsLabels, "brawlsActive", "brawlsStartTime", "brawlsStartValue")

Calculator:AddButton("Reset All Calculators", function()
    strengthActive, durabilityActive, rebirthsActive, killsActive, brawlsActive = false, false, false, false, false
    strengthStartTime, durabilityStartTime, rebirthsStartTime, killsStartTime, brawlsStartTime = 0, 0, 0, 0, 0
    strengthStartValue, durabilityStartValue, rebirthsStartValue, killsStartValue, brawlsStartValue = 0, 0, 0, 0, 0

    for _, v in pairs({strengthLabels, durabilityLabels, rebirthsLabels, killsLabels, brawlsLabels}) do
        v.status.Text = "Status: Presiona Start para comenzar"
        v.gained.Text = "Gained: 0"
        v.perMinute.Text = "Per Minute: 0"
        v.perHour.Text = "Per Hour: 0"
        v.perDay.Text = "Per Day: 0"
    end

    game:GetService("StarterGui"):SetCore("SendNotification", {
        Title = "Calculator";
        Text = "Todos los calculators han sido reiniciados!";
        Duration = 3;
    })
end)

task.spawn(function()
    while true do
        updateLabels(strengthActive, strengthStartTime, strengthStartValue, getCurrentStrength(), strengthLabels)
        updateLabels(durabilityActive, durabilityStartTime, durabilityStartValue, getCurrentDurability(), durabilityLabels)
        updateLabels(rebirthsActive, rebirthsStartTime, rebirthsStartValue, getCurrentRebirths(), rebirthsLabels)
        updateLabels(killsActive, killsStartTime, killsStartValue, getCurrentKills(), killsLabels)
        updateLabels(brawlsActive, brawlsStartTime, brawlsStartValue, getCurrentBrawls(), brawlsLabels)
        task.wait(1)
    end
end)

local Gift = window:AddTab("Gift")

Gift:AddLabel("Gifting Protein egg:").TextSize = 22

local proteinEggLabel = Gift:AddLabel("Protein Eggs: 0")
proteinEggLabel.TextSize = 20

local selectedEggPlayer = nil
local eggCount = 0

local eggDropdown = Gift:AddDropdown("Player to Gift Eggs", function(selectedDisplayName)
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr.DisplayName == selectedDisplayName then
            selectedEggPlayer = plr
            break
        end
    end
end)

for _, plr in ipairs(Players:GetPlayers()) do
    if plr ~= Players.LocalPlayer then
        eggDropdown:Add(plr.DisplayName)
    end
end

Players.PlayerAdded:Connect(function(plr)
    if plr ~= Players.LocalPlayer then
        eggDropdown:Add(plr.DisplayName)
    end
end)

Gift:AddTextBox("Amount of Eggs", function(text)
    eggCount = tonumber(text) or 0
end)

Gift:AddButton("Gift Eggs", function()
    if selectedEggPlayer and eggCount > 0 then
        for i = 1, eggCount do
            local egg = Players.LocalPlayer.consumablesFolder:FindFirstChild("Protein Egg")
            if egg then
                ReplicatedStorage.rEvents.giftRemote:InvokeServer("giftRequest", selectedEggPlayer, egg)
                task.wait(0.1)
            end
        end
    end
end)

Gift:AddLabel("Gifting Tropical Shakes:").TextSize = 22

local tropicalShakeLabel = Gift:AddLabel("Tropical Shakes: 0")
tropicalShakeLabel.TextSize = 18

local selectedShakePlayer = nil
local shakeCount = 0

local shakeDropdown = Gift:AddDropdown("Player to Gift Tropical Shakes", function(selectedDisplayName)
    for _, plr in ipairs(Players:GetPlayers()) do
        if plr.DisplayName == selectedDisplayName then
            selectedShakePlayer = plr
            break
        end
    end
end)

for _, plr in ipairs(Players:GetPlayers()) do
    if plr ~= Players.LocalPlayer then
        shakeDropdown:Add(plr.DisplayName)
    end
end

Players.PlayerAdded:Connect(function(plr)
    if plr ~= Players.LocalPlayer then
        shakeDropdown:Add(plr.DisplayName)
    end
end)

Gift:AddTextBox("Tropical Shakes gift", function(text)
    shakeCount = tonumber(text) or 0
end)

Gift:AddButton("Gift Tropical Shakes", function()
    if selectedShakePlayer and shakeCount > 0 then
        for i = 1, shakeCount do
            local shake = Players.LocalPlayer.consumablesFolder:FindFirstChild("Tropical Shake")
            if shake then
                ReplicatedStorage.rEvents.giftRemote:InvokeServer("giftRequest", selectedShakePlayer, shake)
                task.wait(0.1)
            end
        end
    end
end)

local function updateItemCount()
    local proteinEggCount = 0
    local tropicalShakeCount = 0

    local backpack = Players.LocalPlayer:WaitForChild("Backpack")
    if backpack then
        for _, item in ipairs(backpack:GetChildren()) do
            if item.Name == "Protein Egg" then
                proteinEggCount = proteinEggCount + 1
            elseif item.Name == "Tropical Shake" or item.Name == "PiÃ±as" then
                tropicalShakeCount = tropicalShakeCount + 1
            end
        end
    end

    proteinEggLabel.Text = "Protein Eggs: " .. proteinEggCount
    tropicalShakeLabel.Text = "Tropical Shakes: " .. tropicalShakeCount
end

task.spawn(function()
    while true do
        updateItemCount()
        task.wait(0.25)
    end
end)


local autoEatBoostsEnabled = false

local boostsList = {
    "ULTRA Shake",
    "TOUGH Bar",
    "Protein Shake",
    "Energy Shake",
    "Protein Bar",
    "Energy Bar",
    "Tropical Shake"
}

local function eatAllBoosts()
    local player = game.Players.LocalPlayer
    local backpack = player:WaitForChild("Backpack")
    local character = player.Character or player.CharacterAdded:Wait()

    for _, boostName in ipairs(boostsList) do
        local boost = backpack:FindFirstChild(boostName)
        while boost do
            boost.Parent = character
            pcall(function()
                boost:Activate()
            end)
            task.wait(0)
            boost = backpack:FindFirstChild(boostName)
        end
    end
end

task.spawn(function()
    while true do
        if autoEatBoostsEnabled then
            eatAllBoosts()
            task.wait(2)
        else
            task.wait(1)
        end
    end
end)

Gift:AddSwitch("Auto Clear Inventory", function(state)
    autoEatBoostsEnabled = state
end)

local pets = window:AddTab("Crystals")

local ReplicatedStorage = game:GetService("ReplicatedStorage")

local crystalData = {
    ["Blue Crystal"] = {
        {name = "Blue Birdie", rarity = "Basic"},
        {name = "Orange Hedgehog", rarity = "Basic"},
        {name = "Blue Aura", rarity = "Basic"},
        {name = "Red Kitty", rarity = "Basic"},
        {name = "Dark Vampy", rarity = "Advanced"},
        {name = "Blue Bunny", rarity = "Basic"},
        {name = "Red Aura", rarity = "Basic"},
        {name = "Blue Aura", rarity = "Basic"},
        {name = "Green Aura", rarity = "Basic"},
        {name = "Purple Aura", rarity = "Basic"},
        {name = "Red Aura", rarity = "Basic"},
        {name = "Yellow Aura", rarity = "Basic"}
    },
    ["Green Crystal"] = {
        {name = "Silver Dog", rarity = "Basic"},
        {name = "Green Aura", rarity = "Advanced"},
        {name = "Dark Golem", rarity = "Advanced"},
        {name = "Green Butterfly", rarity = "Advanced"},
        {name = "Crimson Falcon", rarity = "Rare"},
        {name = "Red Aura", rarity = "Basic"},
        {name = "Blue Aura", rarity = "Basic"},
        {name = "Green Aura", rarity = "Basic"},
        {name = "Purple Aura", rarity = "Basic"},
        {name = "Red Aura", rarity = "Basic"},
        {name = "Yellow Aura", rarity = "Basic"}
    },
    ["Frost Crystal"] = {
        {name = "Yellow Butterfly", rarity = "Advanced"},
        {name = "Purple Dragon", rarity = "Rare"},
        {name = "Blue Pheonix", rarity = "Epic"},
        {name = "Orange Pegasus", rarity = "Rare"},
        {name = "Lightning", rarity = "Rare"},
        {name = "Electro", rarity = "Advanced"}
    },
    ["Mythical Crystal"] = {
        {name = "Purple Falcon", rarity = "Rare"},
        {name = "Red Dragon", rarity = "Rare"},
        {name = "Blue Firecaster", rarity = "Epic"},
        {name = "Golden Pheonix", rarity = "Epic"},
        {name = "Power Lightning", rarity = "Rare"},
        {name = "Dark Lightning", rarity = "Epic"}
    },
    ["Inferno Crystal"] = {
        {name = "Red Firecaster", rarity = "Epic"},
        {name = "Infernal Dragon", rarity = "Unique"},
        {name = "White Pegasus", rarity = "Rare"},
        {name = "Golden Pheonix", rarity = "Epic"},
        {name = "Inferno", rarity = "Epic"},
        {name = "Dark Storm", rarity = "Unique"}
    },
    ["Legends Crystal"] = {
        {name = "Ultra Birdie", rarity = "Unique"},
        {name = "Magic Butterfly", rarity = "Unique"},
        {name = "Green Firecaster", rarity = "Epic"},
        {name = "White Pheonix", rarity = "Epic"},
        {name = "Supernova", rarity = "Epic"},
        {name = "Purple Nova", rarity = "Unique"}
    },
    ["Muscle Elite Crystal"] = {
        {name = "Frostwave Legends Penguin", rarity = "Rare"},
        {name = "Phantom Genesis Dragon", rarity = "Rare"},
        {name = "Dark Legends Manticore", rarity = "Epic"},
        {name = "Ultimate Supernova Pegasus", rarity = "Epic"},
        {name = "Aether Spirit Bunny", rarity = "Unique"},
        {name = "Cybernetic Showdown Dragon", rarity = "Unique"}
    },
    ["Galaxy Oracle Crystal"] = {
        {name = "Eternal Strike Leviathan", rarity = "Rare"},
        {name = "Lightning Strike Phantom", rarity = "Epic"},
        {name = "Darkstar Hunter", rarity = "Unique"},
        {name = "Muscle King", rarity = "Unique"},
        {name = "Azure Tundra", rarity = "Epic"},
        {name = "Ultra Inferno", rarity = "Rare"}
    },
    ["Jungle Crystal"] = {
        {name = "Entropic Blast", rarity = "Unique"},
        {name = "Muscle Sensei", rarity = "Unique"},
        {name = "Grand Supernova", rarity = "Epic"},
        {name = "Neon Guardian", rarity = "Unique"},
        {name = "Eternal Megastrike", rarity = "Unique"},
        {name = "Golden Viking", rarity = "Epic"},
        {name = "Astral Electro", rarity = "Epic"},
        {name = "Dark Electro", rarity = "Epic"},
        {name = "Enchanted Mirage", rarity = "Epic"},
        {name = "Ultra Mirage", rarity = "Unique"},
        {name = "Unstable Mirage", rarity = "Unique"}
    }
}

local function getAllPetsAndAuras()
    local allPets = {}
    local allAuras = {}
    
    for crystalName, pets in pairs(crystalData) do
        for _, pet in ipairs(pets) do
            if string.find(pet.name, "Aura") then
                if not allAuras[pet.name] then
                    allAuras[pet.name] = {name = pet.name, rarity = pet.rarity, crystal = crystalName}
                end
            else
                if not allPets[pet.name] then
                    allPets[pet.name] = {name = pet.name, rarity = pet.rarity, crystal = crystalName}
                end
            end
        end
    end
    
    return allPets, allAuras
end

local function findCrystalForItem(itemName)
    for crystalName, pets in pairs(crystalData) do
        for _, pet in ipairs(pets) do
            if pet.name == itemName then
                return crystalName
            end
        end
    end
    return nil
end

local selectedPet = ""
local selectedAura = ""

local allPets, allAuras = getAllPetsAndAuras()

pets:AddLabel("=== Buy pets and auras ===")

local petDropdown = pets:AddDropdown("Select pet", function(text)
    selectedPet = text
    local crystal = findCrystalForItem(text)
    print("Pet selected: " .. text .. " (Found in: " .. (crystal or "Unknown") .. ")")
end)

petDropdown:Add("Blue Birdie (Basic)")
petDropdown:Add("Orange Hedgehog (Basic)")
petDropdown:Add("Red Kitty (Basic)")
petDropdown:Add("Blue Bunny (Basic)")
petDropdown:Add("Silver Dog (Basic)")

petDropdown:Add("Dark Vampy (Advanced)")
petDropdown:Add("Dark Golem (Advanced)")
petDropdown:Add("Green Butterfly (Advanced)")
petDropdown:Add("Yellow Butterfly (Advanced)")

petDropdown:Add("Crimson Falcon (Rare)")
petDropdown:Add("Purple Dragon (Rare)")
petDropdown:Add("Orange Pegasus (Rare)")
petDropdown:Add("Purple Falcon (Rare)")
petDropdown:Add("Red Dragon (Rare)")
petDropdown:Add("White Pegasus (Rare)")
petDropdown:Add("Frostwave Legends Penguin (Rare)")
petDropdown:Add("Phantom Genesis Dragon (Rare)")
petDropdown:Add("Eternal Strike Leviathan (Rare)")

petDropdown:Add("Blue Pheonix (Epic)")
petDropdown:Add("Blue Firecaster (Epic)")
petDropdown:Add("Golden Pheonix (Epic)")
petDropdown:Add("Red Firecaster (Epic)")
petDropdown:Add("Green Firecaster (Epic)")
petDropdown:Add("White Pheonix (Epic)")
petDropdown:Add("Dark Legends Manticore (Epic)")
petDropdown:Add("Ultimate Supernova Pegasus (Epic)")
petDropdown:Add("Lightning Strike Phantom (Epic)")
petDropdown:Add("Golden Viking (Epic)")

petDropdown:Add("Infernal Dragon (Unique)")
petDropdown:Add("Ultra Birdie (Unique)")
petDropdown:Add("Magic Butterfly (Unique)")
petDropdown:Add("Aether Spirit Bunny (Unique)")
petDropdown:Add("Cybernetic Showdown Dragon (Unique)")
petDropdown:Add("Darkstar Hunter (Unique)")
petDropdown:Add("Muscle Sensei (Unique)")
petDropdown:Add("Neon Guardian (Unique)")

local auraDropdown = pets:AddDropdown("Select Aura", function(text)
    selectedAura = text
    local crystal = findCrystalForItem(text)
    print("Aura selected: " .. text .. " (Found in: " .. (crystal or "Unknown") .. ")")
end)

auraDropdown:Add("Blue Aura (Basic)")
auraDropdown:Add("Green Aura (Basic)")
auraDropdown:Add("Purple Aura (Basic)")
auraDropdown:Add("Red Aura (Basic)")
auraDropdown:Add("Yellow Aura (Basic)")
auraDropdown:Add("Ultra Inferno  (Rare)")
auraDropdown:Add("Azure Tundra (Epic)")
auraDropdown:Add("Grand Supernova (Epic)")
auraDropdown:Add("Muscle King (Unique)")
auraDropdown:Add("Entropic Blast (Unique)")
auraDropdown:Add("Eternal Megastrike (Unique)")

pets:AddLabel("=== System to buys===")

pets:AddSwitch("Auto Buy Pet", function(bool)
    _G.AutoBuyPet = bool
    
    if bool then
        if selectedPet == "" then
            print("Please select a pet first!")
            return
        end
        
        local petName = selectedPet:match("^(.-)%s*%(")
        if not petName then
            petName = selectedPet
        end
        
        local crystal = findCrystalForItem(petName)
        if not crystal then
            print("Could not find crystal for pet: " .. petName)
            return
        end
        
        print("Auto buy pet started for: " .. petName .. " from " .. crystal)
        spawn(function()
            while _G.AutoBuyPet and selectedPet ~= "" do
                local petToBuy = ReplicatedStorage.cPetShopFolder:FindFirstChild(petName)
                if petToBuy then
                    ReplicatedStorage.cPetShopRemote:InvokeServer(petToBuy)
                    print("Bought pet: " .. petName)
                else
                    print("Pet not found: " .. petName)
                end
                task.wait(0.1)
            end
        end)
    else
        print("Auto buy pet stopped")
    end
end)

pets:AddSwitch("Auto buy Aura", function(bool)
    _G.AutoBuyAura = bool
    
    if bool then
        if selectedAura == "" then
            print("Please select an aura first!")
            return
        end
        
        local auraName = selectedAura:match("^(.-)%s*%(")
        if not auraName then
            auraName = selectedAura
        end
        
        local crystal = findCrystalForItem(auraName)
        if not crystal then
            print("Could not find crystal for aura: " .. auraName)
            return
        end
        
        print("Auto buy aura started for: " .. auraName .. " from " .. crystal)
        spawn(function()
            while _G.AutoBuyAura and selectedAura ~= "" do
                local auraToBuy = ReplicatedStorage.cPetShopFolder:FindFirstChild(auraName)
                if auraToBuy then
                    ReplicatedStorage.cPetShopRemote:InvokeServer(auraToBuy)
                    print("Bought aura: " .. auraName)
                else
                    print("Aura not found: " .. auraName)
                end
                task.wait(0.1)
            end
        end)
    else
        print("Auto buy aura stopped")
    end
end)

pets:Show()

pets:AddLabel("=== buy ultimates ===")

local ultimateOptions = {
    "+1 Daily Spin",
    "+1 Pet Slot",
    "+10 Item Capacity",
    "+5% Rep Speed",
    "Demon Damage",
    "Galaxy Gains",
    "Golden Rebirth",
    "Jungle Swift",
    "Muscle Mind",
    "x2 Chest Rewards",
    "x2 Quest Rewards"
}

local selectedUltimate = ""

local ultimateDropdown = pets:AddDropdown("Select ultimate", function(text)
    selectedUltimate = text
    print("Ultimate selected: " .. text)
end)

for _, ultimate in ipairs(ultimateOptions) do
    ultimateDropdown:Add(ultimate)
end

pets:AddSwitch("Auto Buy Ultimates", function(bool)
    _G.AutoUpgradeUltimate = bool
    
    if bool then
        if selectedUltimate == "" then
            print("Please select an ultimate first!")
            return
        end
        
        print("Auto upgrade ultimate started for: " .. selectedUltimate)
        spawn(function()
            while _G.AutoUpgradeUltimate and selectedUltimate ~= "" do
                game:GetService("ReplicatedStorage").rEvents.ultimatesRemote:InvokeServer(
                    "upgradeUltimate",
                    selectedUltimate
                )
                print("Upgraded ultimate: " .. selectedUltimate)
                task.wait(1)
            end
        end)
    else
        print("Auto comprar ultimates")
    end
end)

local SpecsTab = window:AddTab("Stats")

SpecsTab:AddLabel("Player Stats:").TextSize = 24

local playerToInspect = nil

local statDefinitions = {
    {name = "Strength", statName = "Strength"},
    {name = "Rebirths", statName = "Rebirths"},
    {name = "Durability", statName = "Durability"},
    {name = "Agility", statName = "Agility"},
    {name = "Kills", statName = "Kills"},
    {name = "Evil Karma", statName = "evilKarma"},
    {name = "Good Karma", statName = "goodKarma"},
    {name = "Brawls", statName = "Brawls"}
}

local function getCurrentPlayers()
    local playersList = {}
    for _, p in ipairs(Players:GetPlayers()) do
        table.insert(playersList, p)
    end
    return playersList
end

local specdropdown =
    SpecsTab:AddDropdown(
    "Choose Player",
    function(text)
        for _, player in ipairs(getCurrentPlayers()) do
            local optionText = player.DisplayName .. " | " .. player.Name
            if text == optionText then
                playerToInspect = player
                updateStatLabels(playerToInspect)
                break
            end
        end
    end
)

for _, player in ipairs(getCurrentPlayers()) do
    specdropdown:Add(player.DisplayName .. " | " .. player.Name)
end

Players.PlayerAdded:Connect(
    function(player)
        specdropdown:Add(player.DisplayName .. " | " .. player.Name)
    end
)

Players.PlayerRemoving:Connect(
    function(player)
        specdropdown:Clear()
        for _, p in ipairs(getCurrentPlayers()) do
            specdropdown:Add(p.DisplayName .. " | " .. p.Name)
        end
    end
)

local playerNameLabel = SpecsTab:AddLabel("Name: N/A")
playerNameLabel.TextSize = 20

local playerUsernameLabel = SpecsTab:AddLabel("Username: N/A")
playerUsernameLabel.TextSize = 20

local statLabels = {}
for _, info in ipairs(statDefinitions) do
    statLabels[info.name] = SpecsTab:AddLabel(emojiMap[info.name] .. " " .. info.name .. ": 0 (0)")
    statLabels[info.name].TextSize = 20
end

local function formatNumber(n)
    if n >= 1e15 then
        return string.format("%.1fqa", n / 1e15)
    elseif n >= 1e12 then
        return string.format("%.1ft", n / 1e12)
    elseif n >= 1e9 then
        return string.format("%.1fb", n / 1e9)
    elseif n >= 1e6 then
        return string.format("%.1fm", n / 1e6)
    elseif n >= 1e3 then
        return string.format("%.1fk", n / 1e3)
    else
        return tostring(n)
    end
end

local function formatWithCommas(n)
    local formatted = tostring(n)
    while true do
        formatted, k = formatted:gsub("^(-?%d+)(%d%d%d)", "%1,%2")
        if k == 0 then
            break
        end
    end
    return formatted
end

local function updateStatLabels(targetPlayer)
    if not targetPlayer then
        return
    end

    playerNameLabel.Text = "Name: " .. targetPlayer.DisplayName
    playerUsernameLabel.Text = "Username: " .. targetPlayer.Name

    local leaderstats = targetPlayer:FindFirstChild("leaderstats")
    if not leaderstats then
        return
    end

    for _, info in ipairs(statDefinitions) do
        local statObject

        if leaderstats:FindFirstChild(info.statName) then
            statObject = leaderstats:FindFirstChild(info.statName)
        elseif targetPlayer:FindFirstChild(info.statName) then
            statObject = targetPlayer:FindFirstChild(info.statName)
        end

        if statObject then
            local value = statObject.Value
            local emoji = emojiMap[info.name] or ""
            statLabels[info.name].Text =
                string.format("%s %s: %s (%s)", emoji, info.name, formatNumber(value), formatWithCommas(value))
        else
            statLabels[info.name].Text = emojiMap[info.name] .. " " .. info.name .. ": 0 (0)"
        end
    end
end

task.spawn(
    function()
        while true do
            if playerToInspect then
                updateStatLabels(playerToInspect)
            end
            task.wait(0.2)
        end
    end
)

task.spawn(
    function()
        while true do
            if playerToInspect then
                updateAdvancedStats(playerToInspect)
            else
                updateAdvancedStats(nil)
            end
            task.wait(0.1)
        end
    end
)

local function checkCharacter()
    if not game.Players.LocalPlayer.Character then
        repeat
            task.wait()
        until game.Players.LocalPlayer.Character
    end
    return game.Players.LocalPlayer.Character
end

local function gettool()
    for _, v in pairs(game.Players.LocalPlayer.Backpack:GetChildren()) do
        if v.Name == "Punch" and game.Players.LocalPlayer.Character:FindFirstChild("Humanoid") then
            game.Players.LocalPlayer.Character.Humanoid:EquipTool(v)
        end
    end
    game.Players.LocalPlayer.muscleEvent:FireServer("punch", "leftHand")
    game.Players.LocalPlayer.muscleEvent:FireServer("punch", "rightHand")
end

local function isPlayerAlive(player)
    return player and player.Character and player.Character:FindFirstChild("HumanoidRootPart") and
        player.Character:FindFirstChild("Humanoid") and
        player.Character.Humanoid.Health > 0
end

local function killPlayer(target)
    if not isPlayerAlive(target) then
        return
    end
    local character = checkCharacter()
    if character and character:FindFirstChild("LeftHand") then
        pcall(
            function()
                firetouchinterest(target.Character.HumanoidRootPart, character.LeftHand, 0)
                firetouchinterest(target.Character.HumanoidRootPart, character.LeftHand, 1)
                gettool()
            end
        )
    end
end

local MeTab = window:AddTab("Stats V2")

local KillerTab = window:AddTab("Killer")

local ExtrasTab = window:AddTab("Extras")

local InfoTab = window:AddTab("Music")

local TeleportTab = window:AddTab("Teleport")

local CreditsTab = window:AddTab("Credits")
